- name: Record Metric Value
  action: record_metric
  inputs:
    name: string #required
    tags: map[string, string]
    timestamp: datetime
    value: float #required
  outputs:
    success: boolean

- name: Increment Counter Metric
  action: increment_counter
  inputs:
    amount: float = 1
    name: string #required
    tags: map[string, string]
  outputs:
    value: float

- name: Set Gauge Value
  action: set_gauge
  inputs:
    name: string #required
    tags: map[string, string]
    value: float #required
  outputs:
    success: boolean

- name: Record Histogram Value
  action: record_histogram
  inputs:
    buckets: list[float]
    name: string #required
    tags: map[string, string]
    value: float #required
  outputs:
    success: boolean

- name: Start Timer Measurement
  action: start_timer
  inputs:
    name: string #required
    tags: map[string, string]
  outputs:
    timer_id: string

- name: Stop Timer Measurement
  action: stop_timer
  inputs:
    timer_id: string #required
  outputs:
    duration_ms: float
    success: boolean

- name: Query Metric Values
  action: query_metrics
  inputs:
    aggregation: sum | avg | min | max | count = avg
    end_time: datetime
    interval: string = "1m"
    name: string #required
    start_time: datetime #required
    tags: map[string, string]
  outputs:
    datapoints: list[MetricDatapoint]
    total: integer

- name: Get Metric Summary
  action: get_metric_summary
  inputs:
    name: string #required
    period: string = "1h"
    tags: map[string, string]
  outputs:
    avg: float
    count: integer
    max: float
    min: float
    p50: float
    p95: float
    p99: float
    sum: float

- name: List Available Metrics
  action: list_metrics
  inputs:
    limit: integer = 100
    prefix: string
  outputs:
    metrics: list[MetricInfo]
    total: integer

- name: Delete Metric Data
  action: delete_metric
  inputs:
    before: datetime
    name: string #required
    tags: map[string, string]
  outputs:
    deleted_count: integer
    success: boolean

- name: Metric
  class:
    name: string
    value: float
    tags: map[string, string]
    timestamp: datetime
    type: string

- name: MetricDatapoint
  class:
    timestamp: datetime
    value: float

- name: MetricInfo
  class:
    name: string
    type: string
    description: string
    tags: list[string]
