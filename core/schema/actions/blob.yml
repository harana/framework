- name: Upload Blob To Storage
  action: upload_blob
  inputs:
    bucket: string #required
    content: bytes #required
    content_type: string
    key: string #required
    metadata: BlobMetadata
  outputs:
    etag: string
    url: string

- name: Download Blob From Storage
  action: download_blob
  inputs:
    bucket: string #required
    key: string #required
  outputs:
    content: bytes
    content_type: string
    metadata: BlobMetadata
    size: integer

- name: Delete Blob From Storage
  action: delete_blob
  inputs:
    bucket: string #required
    key: string #required
  outputs:
    success: boolean

- name: List Blobs In Bucket
  action: list_blobs
  inputs:
    bucket: string #required
    continuation_token: string
    max_results: integer = 1000
    prefix: string
  outputs:
    blobs: list[BlobInfo]
    next_token: string

- name: Check If Blob Exists
  action: exists
  inputs:
    bucket: string #required
    key: string #required
  outputs:
    exists: boolean

- name: Get Blob Metadata Info
  action: get_blob_metadata
  inputs:
    bucket: string #required
    key: string #required
  outputs:
    content_type: string
    created: datetime
    etag: string
    metadata: BlobMetadata
    modified: datetime
    size: integer

- name: Copy Blob To Destination
  action: copy_blob
  inputs:
    dest_bucket: string #required
    dest_key: string #required
    source_bucket: string #required
    source_key: string #required
  outputs:
    etag: string
    success: boolean

- name: Generate Presigned URL
  action: generate_presigned_url
  inputs:
    bucket: string #required
    expires_in: integer = 3600
    key: string #required
    operation: get | put = get
  outputs:
    expires_at: datetime
    url: string

- name: Blob
  class:
    bucket: string
    key: string
    etag: string
    url: string
    content_type: string
    size: integer
    metadata: BlobMetadata

- name: BlobMetadata
  class:
    values: map[string, string]

- name: BlobInfo
  class:
    key: string
    size: integer
    etag: string
    last_modified: datetime
    content_type: string
