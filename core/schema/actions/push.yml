- name: Send APNS Push Notification
  action: send_apns
  inputs:
    alert: string #required
    badge: integer
    body: string
    category: string
    collapse_id: string
    custom_data: map[string, any]
    device_token: string #required
    expiration: integer
    priority: 5 | 10 = 10
    sound: string
    subtitle: string
    thread_id: string
    title: string
    topic: string #required
  outputs:
    apns_id: string
    error: string
    success: boolean

- name: Send Web Push Notification
  action: send_web_push
  inputs:
    actions: list[PushAction]
    badge: string
    body: string #required
    data: map[string, any]
    dir: auto | ltr | rtl = auto
    icon: string
    image: string
    lang: string
    renotify: boolean = false
    require_interaction: boolean = false
    silent: boolean = false
    subscription: PushSubscription #required
    tag: string
    timestamp: integer
    title: string #required
    vibrate: list[integer]
  outputs:
    error: string
    success: boolean

- name: Send Android FCM Notification
  action: send_fcm
  inputs:
    body: string #required
    channel_id: string
    click_action: string
    collapse_key: string
    color: string
    data: map[string, any]
    icon: string
    image: string
    priority: min | low | default | high | max = default
    registration_token: string #required
    sound: string
    tag: string
    time_to_live: integer
    title: string #required
  outputs:
    error: string
    message_id: string
    success: boolean

- name: Send Multicast Push
  action: send_multicast_push
  inputs:
    body: string #required
    data: map[string, any]
    platform: apns | web | fcm #required
    title: string #required
    tokens: list[string] #required
  outputs:
    failed: integer
    failures: list[PushFailure]
    successful: integer
    total: integer

- name: Send Topic Push
  action: send_topic_push
  inputs:
    body: string #required
    data: map[string, any]
    platform: apns | web | fcm #required
    title: string #required
    topic: string #required
  outputs:
    message_id: string
    success: boolean

- name: Subscribe To Topic
  action: subscribe_to_topic
  inputs:
    platform: apns | web | fcm #required
    tokens: list[string] #required
    topic: string #required
  outputs:
    failed_tokens: list[string]
    success: boolean

- name: Unsubscribe From Topic
  action: unsubscribe_from_topic
  inputs:
    platform: apns | web | fcm #required
    tokens: list[string] #required
    topic: string #required
  outputs:
    failed_tokens: list[string]
    success: boolean

- name: Validate Push Token
  action: validate_push_token
  inputs:
    platform: apns | web | fcm #required
    token: string #required
  outputs:
    error: string
    valid: boolean

- name: PushNotification
  class:
    title: string
    body: string
    platform: string
    token: string
    data: map[string, any]
    badge: integer
    sound: string

- name: PushAction
  class:
    action: string
    title: string
    icon: string

- name: PushSubscription
  class:
    endpoint: string
    keys: PushSubscriptionKeys

- name: PushSubscriptionKeys
  class:
    p256dh: string
    auth: string

- name: PushFailure
  class:
    token: string
    error: string
