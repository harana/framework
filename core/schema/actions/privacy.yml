- name: Record Consent
  action: record_consent
  inputs:
    consent_type: marketing | analytics | functional | necessary #required
    granted: boolean #required
    ip_address: string
    metadata: map[string, any]
    user_agent: string
    user_id: string #required
    version: string #required
  outputs:
    consent_id: string
    success: boolean
    timestamp: integer
    user_id: string

- name: Revoke Consent
  action: revoke_consent
  inputs:
    consent_type: marketing | analytics | functional | necessary #required
    reason: string
    user_id: string #required
  outputs:
    consent_id: string
    revoked_at: integer
    success: boolean
    user_id: string

- name: Get Consent Status
  action: get_consent_status
  inputs:
    consent_type: marketing | analytics | functional | necessary
    user_id: string #required
  outputs:
    consents: list[PrivacyConsent]
    user_id: string

- name: Update Consent
  action: update_consent
  inputs:
    consent_id: string #required
    granted: boolean #required
    version: string
  outputs:
    consent_id: string
    success: boolean

- name: Export User Data
  action: export_data
  inputs:
    exclude_sections: list[string]
    format: json | csv | xml = json
    include_sections: list[string]
    user_id: string #required
  outputs:
    download_url: string
    expires_at: integer
    export_id: string
    status: string
    user_id: string

- name: Get Export Status
  action: get_export_status
  inputs:
    export_id: string #required
  outputs:
    completed_at: integer
    created_at: integer
    download_url: string
    export_id: string
    status: pending | processing | completed | failed

- name: Delete User Data
  action: delete_data
  inputs:
    delete_type: soft | hard = soft
    reason: string #required
    retain_sections: list[string]
    user_id: string #required
  outputs:
    deletion_id: string
    scheduled_at: integer
    status: string
    success: boolean
    user_id: string

- name: Get Deletion Status
  action: get_deletion_status
  inputs:
    deletion_id: string #required
  outputs:
    completed_at: integer
    deletion_id: string
    scheduled_at: integer
    status: pending | processing | completed | failed
    user_id: string

- name: Cancel Data Deletion
  action: cancel_deletion
  inputs:
    deletion_id: string #required
  outputs:
    cancelled: boolean
    deletion_id: string
    success: boolean

- name: Anonymize User Data
  action: anonymize_data
  inputs:
    retain_sections: list[string]
    user_id: string #required
  outputs:
    anonymization_id: string
    success: boolean
    user_id: string

- name: List Consent History
  action: list_consent_history
  inputs:
    consent_type: marketing | analytics | functional | necessary
    end_date: integer
    limit: integer = 100
    start_date: integer
    user_id: string #required
  outputs:
    history: list[PrivacyConsentHistory]
    total: integer
    user_id: string

- name: Record Data Access
  action: record_data_access
  inputs:
    access_type: read | write | delete #required
    accessor_id: string #required
    purpose: string
    resource: string #required
    user_id: string #required
  outputs:
    access_id: string
    success: boolean
    timestamp: integer

- name: Get Data Access Log
  action: get_access_log
  inputs:
    end_date: integer
    limit: integer = 100
    start_date: integer
    user_id: string #required
  outputs:
    accesses: list[PrivacyDataAccess]
    total: integer
    user_id: string

- name: Create Privacy Policy Version
  action: create_policy_version
  inputs:
    content: string #required
    effective_date: integer #required
    title: string #required
    version: string #required
  outputs:
    policy_id: string
    success: boolean
    version: string

- name: Get Active Policy Version
  action: get_active_policy
  inputs:
    policy_type: privacy | terms | cookie = privacy
  outputs:
    content: string
    effective_date: integer
    policy_id: string
    version: string

- name: Record Policy Acceptance
  action: record_policy_acceptance
  inputs:
    ip_address: string
    policy_id: string #required
    user_agent: string
    user_id: string #required
  outputs:
    acceptance_id: string
    success: boolean
    timestamp: integer
    user_id: string

- name: Verify Right To Be Forgotten
  action: verify_rtbf_eligibility
  inputs:
    user_id: string #required
  outputs:
    blocking_factors: list[string]
    eligible: boolean
    reasons: list[string]
    user_id: string

- name: Consent
  class:
    consent_id: string
    user_id: string
    consent_type: string
    granted: boolean
    version: string
    timestamp: datetime
    ip_address: string
    user_agent: string

- name: PrivacyConsent
  class:
    consent_id: string
    consent_type: string
    granted: boolean
    version: string
    timestamp: datetime

- name: PrivacyConsentHistory
  class:
    consent_id: string
    consent_type: string
    granted: boolean
    version: string
    action: string
    timestamp: datetime

- name: PrivacyDataAccess
  class:
    access_id: string
    accessor_id: string
    access_type: string
    resource: string
    purpose: string
    timestamp: datetime
