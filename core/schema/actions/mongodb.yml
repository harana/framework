- name: Insert Document
  action: insert
  inputs:
    collection: string #required
    database: string #required
    document: MongoDocumentData #required
  outputs:
    inserted_id: string
    success: boolean

- name: Insert Many Documents
  action: insert_many
  inputs:
    collection: string #required
    database: string #required
    documents: list[MongoDocumentData] #required
    ordered: boolean = true
  outputs:
    inserted_count: integer
    inserted_ids: list[string]
    success: boolean

- name: Find Document
  action: find_one
  inputs:
    collection: string #required
    database: string #required
    filter: MongoFilter #required
    projection: MongoProjection
  outputs:
    document: MongoDocumentData
    found: boolean

- name: Find Documents
  action: find
  inputs:
    collection: string #required
    database: string #required
    filter: MongoFilter = {}
    limit: integer
    projection: MongoProjection
    skip: integer = 0
    sort: MongoSort
  outputs:
    count: integer
    documents: list[MongoDocumentData]

- name: Update Document
  action: update_one
  inputs:
    collection: string #required
    database: string #required
    filter: MongoFilter #required
    update: MongoUpdate #required
    upsert: boolean = false
  outputs:
    matched_count: integer
    modified_count: integer
    success: boolean
    upserted_id: string

- name: Update Many Documents
  action: update_many
  inputs:
    collection: string #required
    database: string #required
    filter: MongoFilter #required
    update: MongoUpdate #required
    upsert: boolean = false
  outputs:
    matched_count: integer
    modified_count: integer
    success: boolean
    upserted_id: string

- name: Replace Document
  action: replace_one
  inputs:
    collection: string #required
    database: string #required
    filter: MongoFilter #required
    replacement: MongoDocumentData #required
    upsert: boolean = false
  outputs:
    matched_count: integer
    modified_count: integer
    success: boolean
    upserted_id: string

- name: Delete Document
  action: delete_one
  inputs:
    collection: string #required
    database: string #required
    filter: MongoFilter #required
  outputs:
    deleted_count: integer
    success: boolean

- name: Delete Many Documents
  action: delete_many
  inputs:
    collection: string #required
    database: string #required
    filter: MongoFilter #required
  outputs:
    deleted_count: integer
    success: boolean

- name: Count Documents
  action: count
  inputs:
    collection: string #required
    database: string #required
    filter: MongoFilter = {}
  outputs:
    count: integer

- name: Aggregate Documents
  action: aggregate
  inputs:
    collection: string #required
    database: string #required
    pipeline: list[MongoPipelineStage] #required
  outputs:
    documents: list[MongoDocumentData]

- name: Create Index
  action: create_index
  inputs:
    collection: string #required
    database: string #required
    keys: MongoIndexKeys #required
    name: string
    unique: boolean = false
  outputs:
    index_name: string
    success: boolean

- name: Drop Index
  action: drop_index
  inputs:
    collection: string #required
    database: string #required
    index_name: string #required
  outputs:
    success: boolean

- name: List Collections
  action: list_collections
  inputs:
    database: string #required
  outputs:
    collections: list[string]

- name: Drop Collection
  action: drop_collection
  inputs:
    collection: string #required
    database: string #required
  outputs:
    success: boolean

- name: Bulk Write Operations
  action: bulk_write
  inputs:
    collection: string #required
    database: string #required
    operations: list[MongoBulkOperation] #required
    ordered: boolean = true
  outputs:
    deleted_count: integer
    inserted_count: integer
    matched_count: integer
    modified_count: integer
    success: boolean
    upserted_count: integer

- name: MongoDocument
  class:
    _id: string
    collection: string
    database: string
    document: MongoDocumentData

- name: MongoDocumentData
  class:
    data: map[string, any]

- name: MongoFilter
  class:
    conditions: map[string, any]

- name: MongoProjection
  class:
    fields: map[string, integer]

- name: MongoSort
  class:
    fields: map[string, integer]

- name: MongoUpdate
  class:
    operators: map[string, any]

- name: MongoPipelineStage
  class:
    stage: map[string, any]

- name: MongoIndexKeys
  class:
    fields: map[string, integer]

- name: MongoBulkOperation
  class:
    operation_type: string
    filter: MongoFilter
    document: MongoDocumentData
    update: MongoUpdate
