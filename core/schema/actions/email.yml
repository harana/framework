- name: Send Email Message
  action: send
  inputs:
    attachments: list[EmailAttachment]
    bcc: list[string]
    body: string #required
    cc: list[string]
    content_type: text | html = text
    from: string
    reply_to: string
    subject: string #required
    to: list[string] #required
  outputs:
    message_id: string
    success: boolean

- name: Send Email From Template
  action: send_template
  inputs:
    attachments: list[EmailAttachment]
    bcc: list[string]
    cc: list[string]
    from: string
    reply_to: string
    template_id: string #required
    to: list[string] #required
    variables: map[string, string]
  outputs:
    message_id: string
    success: boolean

- name: Validate Email Address
  action: validate_email
  inputs:
    check_mx: boolean = false
    check_smtp: boolean = false
    email: string #required
  outputs:
    reason: string
    valid: boolean

- name: Get Email Status
  action: status
  inputs:
    message_id: string #required
  outputs:
    clicked_at: datetime
    delivered_at: datetime
    error: string
    opened_at: datetime
    status: queued | sent | delivered | bounced | failed

- name: Send Bulk Email
  action: send_bulk
  inputs:
    body: string #required
    content_type: text | html = text
    from: string
    recipients: list[EmailRecipient] #required
    subject: string #required
  outputs:
    failed: integer
    message_ids: list[string]
    successful: integer
    total: integer

- name: Create Email Template
  action: create_template
  inputs:
    body: string #required
    content_type: text | html = html
    name: string #required
    subject: string #required
    variables: list[string]
  outputs:
    success: boolean
    template_id: string

- name: Delete Email Template
  action: delete_template
  inputs:
    template_id: string #required
  outputs:
    success: boolean

- name: List Email Templates
  action: list_templates
  inputs:
    limit: integer = 100
    offset: integer = 0
  outputs:
    templates: list[EmailTemplate]
    total: integer

- name: EmailMessage
  class:
    message_id: string
    from: string
    to: list[string]
    cc: list[string]
    bcc: list[string]
    subject: string
    body: string
    content_type: string
    attachments: list[EmailAttachment]
    status: string

- name: EmailAttachment
  class:
    filename: string
    content_type: string
    content: bytes
    size: integer

- name: EmailRecipient
  class:
    email: string
    name: string
    variables: map[string, string]

- name: EmailTemplate
  class:
    template_id: string
    name: string
    subject: string
    body: string
    content_type: string
    variables: list[string]
