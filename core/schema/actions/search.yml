- name: Search Query Documents
  action: search_query
  inputs:
    fields: list[string]
    filters: SearchFilters
    highlight: boolean = false
    index: string #required
    limit: integer = 10
    offset: integer = 0
    query: string #required
    sort: list[SearchSortField]
  outputs:
    hits: list[SearchHit]
    took_ms: integer
    total: integer

- name: Index Single Document
  action: index_document
  inputs:
    document: SearchDocumentData #required
    document_id: string #required
    index: string #required
    refresh: boolean = false
  outputs:
    success: boolean
    version: integer

- name: Index Multiple Documents
  action: bulk_index
  inputs:
    documents: list[SearchDocumentData] #required
    index: string #required
    refresh: boolean = false
  outputs:
    errors: list[SearchIndexError]
    failed: integer
    indexed: integer

- name: Get Document By ID
  action: get_document
  inputs:
    document_id: string #required
    index: string #required
  outputs:
    document: SearchDocumentData
    found: boolean
    version: integer

- name: Update Existing Document
  action: update_document
  inputs:
    document: SearchDocumentData #required
    document_id: string #required
    index: string #required
    upsert: boolean = false
  outputs:
    success: boolean
    version: integer

- name: Delete Document By ID
  action: delete_document
  inputs:
    document_id: string #required
    index: string #required
    refresh: boolean = false
  outputs:
    success: boolean

- name: Delete Documents By Query
  action: delete_by_query
  inputs:
    index: string #required
    query: SearchQuery #required
    refresh: boolean = false
  outputs:
    deleted: integer
    success: boolean

- name: Create Search Index
  action: create_index
  inputs:
    index: string #required
    mappings: SearchMappings
    settings: SearchIndexSettings
  outputs:
    success: boolean

- name: Delete Search Index
  action: delete_index
  inputs:
    index: string #required
  outputs:
    success: boolean

- name: List Search Indexes
  action: list_indexes
  inputs:
    pattern: string = "*"
  outputs:
    indexes: list[SearchIndexInfo]
    total: integer

- name: Get Index Statistics
  action: get_index_stats
  inputs:
    index: string #required
  outputs:
    document_count: integer
    mappings: SearchMappings
    size_bytes: integer

- name: Suggest Search Terms
  action: suggest
  inputs:
    field: string #required
    index: string #required
    size: integer = 5
    text: string #required
  outputs:
    suggestions: list[string]

- name: SearchDocument
  class:
    document_id: string
    index: string
    document: SearchDocumentData
    score: float
    version: integer

- name: SearchDocumentData
  class:
    fields: map[string, any]

- name: SearchFilters
  class:
    conditions: map[string, any]

- name: SearchSortField
  class:
    field: string
    order: string

- name: SearchHit
  class:
    document_id: string
    score: float
    source: SearchDocumentData
    highlight: map[string, list[string]]

- name: SearchIndexError
  class:
    document_id: string
    error: string
    status: integer

- name: SearchQuery
  class:
    query: map[string, any]

- name: SearchMappings
  class:
    properties: map[string, SearchFieldMapping]

- name: SearchFieldMapping
  class:
    type: string
    analyzer: string
    index: boolean

- name: SearchIndexSettings
  class:
    number_of_shards: integer
    number_of_replicas: integer

- name: SearchIndexInfo
  class:
    name: string
    document_count: integer
    size_bytes: integer
    status: string
