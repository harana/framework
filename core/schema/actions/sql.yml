- name: Execute SQL Query
  action: execute
  inputs:
    database: string
    parameters: list[any]
    query: string #required
  outputs:
    affected_rows: integer
    last_insert_id: string
    success: boolean

- name: Execute SQL Select
  action: select
  inputs:
    database: string
    limit: integer
    offset: integer = 0
    parameters: list[any]
    query: string #required
  outputs:
    column_names: list[string]
    count: integer
    rows: list[SqlRow]

- name: Execute SQL Insert
  action: insert
  inputs:
    database: string
    parameters: list[any]
    query: string #required
  outputs:
    affected_rows: integer
    last_insert_id: string
    success: boolean

- name: Execute SQL Update
  action: update
  inputs:
    database: string
    parameters: list[any]
    query: string #required
  outputs:
    affected_rows: integer
    success: boolean

- name: Execute SQL Delete
  action: delete
  inputs:
    database: string
    parameters: list[any]
    query: string #required
  outputs:
    affected_rows: integer
    success: boolean

- name: Execute Batch SQL
  action: batch
  inputs:
    database: string
    queries: list[SqlBatchQuery] #required
  outputs:
    failed_count: integer
    results: list[SqlBatchResult]
    success: boolean
    success_count: integer

- name: Begin Transaction
  action: begin_transaction
  inputs:
    database: string
    isolation_level: read_uncommitted | read_committed | repeatable_read | serializable
  outputs:
    success: boolean
    transaction_id: string

- name: Commit Transaction
  action: commit
  inputs:
    database: string
    transaction_id: string #required
  outputs:
    success: boolean

- name: Rollback Transaction
  action: rollback
  inputs:
    database: string
    transaction_id: string #required
  outputs:
    success: boolean

- name: Call Stored Procedure
  action: call_procedure
  inputs:
    database: string
    parameters: list[any]
    procedure_name: string #required
  outputs:
    out_parameters: SqlOutputParameters
    result_sets: list[SqlResultSet]
    success: boolean

- name: Get Table Schema
  action: get_schema
  inputs:
    database: string
    table_name: string #required
  outputs:
    columns: list[SqlColumnInfo]
    indexes: list[SqlIndexInfo]
    primary_key: list[string]

- name: List Tables
  action: list_tables
  inputs:
    database: string
    schema: string
  outputs:
    tables: list[string]

- name: Create Table
  action: create_table
  inputs:
    columns: list[SqlColumnDefinition] #required
    database: string
    if_not_exists: boolean = true
    table_name: string #required
  outputs:
    success: boolean

- name: Drop Table
  action: drop_table
  inputs:
    database: string
    if_exists: boolean = true
    table_name: string #required
  outputs:
    success: boolean

- name: Truncate Table
  action: truncate_table
  inputs:
    database: string
    table_name: string #required
  outputs:
    success: boolean

- name: Create Index
  action: create_index
  inputs:
    columns: list[string] #required
    database: string
    index_name: string #required
    table_name: string #required
    unique: boolean = false
  outputs:
    success: boolean

- name: Drop Index
  action: drop_index
  inputs:
    database: string
    if_exists: boolean = true
    index_name: string #required
    table_name: string
  outputs:
    success: boolean

- name: Bulk Insert
  action: bulk_insert
  inputs:
    columns: list[string] #required
    database: string
    rows: list[list[any]] #required
    table_name: string #required
  outputs:
    affected_rows: integer
    success: boolean

- name: Execute Prepared Statement
  action: prepared_statement
  inputs:
    database: string
    parameters: list[any]
    statement: string #required
  outputs:
    affected_rows: integer
    rows: list[SqlRow]
    success: boolean

- name: SqlQuery
  class:
    query: string
    parameters: list[any]
    database: string
    affected_rows: integer
    rows: list[SqlRow]

- name: SqlRow
  class:
    values: map[string, any]

- name: SqlBatchQuery
  class:
    query: string
    parameters: list[any]

- name: SqlBatchResult
  class:
    success: boolean
    affected_rows: integer
    error: string

- name: SqlOutputParameters
  class:
    values: map[string, any]

- name: SqlResultSet
  class:
    columns: list[string]
    rows: list[SqlRow]

- name: SqlColumnInfo
  class:
    name: string
    data_type: string
    nullable: boolean
    default_value: string
    max_length: integer

- name: SqlIndexInfo
  class:
    name: string
    columns: list[string]
    unique: boolean

- name: SqlColumnDefinition
  class:
    name: string
    data_type: string
    nullable: boolean
    default_value: string
    primary_key: boolean
