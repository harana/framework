- name: Create New Session
  action: create
  inputs:
    data: SessionData
    ttl: integer = 3600
    user_id: string #required
  outputs:
    expires_at: datetime
    session_id: string

- name: Get Session Data
  action: get
  inputs:
    session_id: string #required
  outputs:
    created_at: datetime
    data: SessionData
    expires_at: datetime
    found: boolean
    user_id: string

- name: Update Session Data
  action: update
  inputs:
    data: SessionData #required
    merge: boolean = true
    session_id: string #required
  outputs:
    success: boolean

- name: Destroy Session
  action: destroy
  inputs:
    session_id: string #required
  outputs:
    success: boolean

- name: Refresh Session Expiry
  action: refresh
  inputs:
    session_id: string #required
    ttl: integer
  outputs:
    expires_at: datetime
    success: boolean

- name: Get Session Value
  action: get_value
  inputs:
    key: string #required
    session_id: string #required
  outputs:
    found: boolean
    value: any

- name: Set Session Value
  action: set_value
  inputs:
    key: string #required
    session_id: string #required
    value: any #required
  outputs:
    success: boolean

- name: Delete Session Value
  action: delete_value
  inputs:
    key: string #required
    session_id: string #required
  outputs:
    success: boolean

- name: List User Sessions
  action: list_users
  inputs:
    user_id: string #required
  outputs:
    sessions: list[SessionInfo]
    total: integer

- name: Destroy All User Sessions
  action: destroy_users
  inputs:
    except_id: string
    user_id: string #required
  outputs:
    destroyed_count: integer
    success: boolean

- name: Check Session Valid
  action: validate
  inputs:
    session_id: string #required
  outputs:
    expires_at: datetime
    user_id: string
    valid: boolean

- name: Session
  class:
    session_id: string
    user_id: string
    data: SessionData
    created_at: datetime
    expires_at: datetime

- name: SessionData
  class:
    values: map[string, any]

- name: SessionInfo
  class:
    session_id: string
    user_id: string
    created_at: datetime
    expires_at: datetime
