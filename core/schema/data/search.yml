- name: Search Index
  class: search_index
  id: [name]
  schema:
    - created_at: datetime = now()
    - is_active: bool = true
    - settings: string?
    - updated_at: datetime = now()

- name: Search Field
  class: search_field
  id: [index_id, name]
  schema:
    - boost: decimal = 1.0 #min(0)
    - index_id: id #required -> SearchIndex.id
    - is_facet: bool = false
    - is_filterable: bool = true
    - is_searchable: bool = true
    - is_sortable: bool = false
    - type: text | keyword | number | date | boolean | geo = text

- name: Search Synonym
  class: search_synonym
  id: [index_id, term]
  schema:
    - index_id: id #required -> SearchIndex.id
    - synonyms: string #required #max(1000)
    - term: string #required #max(200)

- name: Search Query Log
  class: search_query_log
  id: [index_id, query, created_at]
  schema:
    - created_at: datetime = now()
    - index_id: id #required -> SearchIndex.id
    - query: string #required #max(1000)
    - response_time_ms: int? #min(0)
    - results_count: int = 0 #min(0)
    - user_id: id? -> User.id
