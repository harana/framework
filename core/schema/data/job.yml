- name: Job
  class: job
  id: [name, queue, created_at]
  schema:
    - completed_at: datetime?
    - created_at: datetime = now()
    - error_message: string? #max(2000)
    - max_retries: int = 3 #min(0)
    - payload: string?
    - priority: int = 0
    - queue: string = default #max(100)
    - result: string?
    - retry_count: int = 0 #min(0)
    - scheduled_at: datetime?
    - started_at: datetime?
    - status: pending | running | completed | failed | cancelled = pending
    - timeout_seconds: int = 300 #min(1)
    - updated_at: datetime = now()

- name: Job Schedule
  class: job_schedule
  id: [name]
  schema:
    - cron_expression: string #required #max(100)
    - is_active: bool = true
    - job_name: string #required #max(200)
    - last_run_at: datetime?
    - next_run_at: datetime?
    - payload: string?
    - timezone: string = UTC #max(50)

- name: Job Log
  class: job_log
  id: [job_id, created_at]
  schema:
    - created_at: datetime = now()
    - job_id: id #required -> Job.id
    - level: debug | info | warning | error = info
    - message: string #required #max(5000)
