- name: Validation Rule
  class: validation_rule
  id: [name]
  schema:
    - created_at: datetime = now()
    - description: string? #max(500)
    - is_active: bool = true
    - pattern: string? #max(1000)
    - type: required | min | max | email | url | regex | custom = required
    - updated_at: datetime = now()
    - value: string? #max(500)

- name: Validation Rule Set
  class: validation_rule_set
  id: [name]
  schema:
    - created_at: datetime = now()
    - description: string? #max(500)
    - is_active: bool = true
    - updated_at: datetime = now()

- name: Validation Rule Set Assignment
  class: validation_rule_set_assignment
  id: [rule_set_id, rule_id]
  schema:
    - rule_id: id #required -> ValidationRule.id
    - rule_set_id: id #required -> ValidationRuleSet.id
    - sort_order: int = 0

- name: Validation Error Log
  class: validation_error_log
  id: [field_name, created_at, rule_id]
  schema:
    - created_at: datetime = now()
    - field_name: string #required #max(100)
    - input_value: string? #max(1000)
    - rule_id: id? -> ValidationRule.id
    - rule_set_id: id? -> ValidationRuleSet.id
    - violation_message: string #required #max(500)
