- name: Session
  class: session
  id: [token]
  schema:
    - created_at: datetime = now()
    - data: string?
    - ip_address: string? #max(45)
    - is_active: bool = true
    - last_activity_at: datetime = now()
    - token: string #required #unique #max(500)
    - user_agent: string? #max(500)
    - user_id: id #required -> User.id

- name: Refresh Token
  class: refresh_token
  id: [token]
  schema:
    - created_at: datetime = now()
    - expires_at: datetime #required
    - is_revoked: bool = false
    - revoked_at: datetime?
    - session_id: id #required -> Session.id
    - token: string #required #unique #max(500)

- name: Session Activity
  class: session_activity
  id: [session_id, action, created_at]
  schema:
    - action: string #required #max(100)
    - created_at: datetime = now()
    - ip_address: string? #max(45)
    - metadata: string?
    - session_id: id #required -> Session.id
