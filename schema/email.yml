- name: email_template
  schema:
    - body_html: string #required
    - body_text: string?
    - created_at: date = now()
    - is_active: boolean = true
    - subject: string #required #max(500)
    - updated_at: date = now()

- name: email
  id: [from_address, to_address, created_at]
  schema:
    - bcc: string? #email
    - body_html: string?
    - body_text: string?
    - cc: string? #email
    - created_at: date = now()
    - from_address: string #required #email
    - reply_to: string? #email
    - sent_at: date?
    - status: pending | sent | failed | bounced = pending
    - subject: string #required #max(500)
    - template_id: id? -> email_template.id
    - to_address: string #required #email
    - updated_at: date = now()

- name: email_attachment
  id: [email_id, file_name]
  schema:
    - content_type: string #required #max(100)
    - email_id: id #required -> email.id
- name: email_message
  schema:
    - message_id: string
    - from: string
    - to: list[string]
    - cc: list[string]
    - bcc: list[string]
    - subject: string
    - body: string
    - content_type: string
    - attachments: list[email_attachment]
    - status: string

- name: email_recipient
  schema:
    - email: string
    - name: string
    - variables: map[string, string]
