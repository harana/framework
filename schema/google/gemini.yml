- object: google_gemini_model
  id: [model_id]
  schema:
    - created_at: date = now()
    - description: string? #max(1000)
    - display_name: string? #max(255)
    - input_token_limit: int? #min(1)
    - model_id: string #unique #max(255)
    - output_token_limit: int? #min(1)
    - supported_generation_methods: string? # json list
    - updated_at: date = now()
    - version: string? #max(50)

- object: google_gemini_safety_setting
  id: [model_id, category]
  schema:
    - category: string #max(100)
    - model_id: id -> google_gemini_model.id
    - threshold: string #max(100)

- object: google_gemini_safety_rating
  schema:
    - blocked: boolean = false
    - category: string #max(100)
    - created_at: date = now()
    - probability: string #max(100)

- object: google_gemini_chat_message
  id: [conversation_id, created_at]
  schema:
    - content: string #required
    - conversation_id: id -> google_gemini_conversation.id
    - created_at: date = now()
    - role: string #max(50)

- object: google_gemini_conversation
  id: [user_id, created_at]
  schema:
    - created_at: date = now()
    - model_id: id -> google_gemini_model.id
    - status: active | archived | deleted = active
    - title: string? #max(200)
    - updated_at: date = now()
    - user_id: string #max(255)

- object: google_gemini_embedding
  id: [model_id, content_hash]
  schema:
    - content_hash: string #max(128)
    - created_at: date = now()
    - dimensions: int? #min(1)
    - embedding: string? # json list of floats
    - model_id: id -> google_gemini_model.id
    - task_type: retrieval_query | retrieval_document | semantic_similarity | classification | clustering

- object: google_gemini_usage
  schema:
    - candidates_token_count: int? #min(0)
    - created_at: date = now()
    - model_id: id -> google_gemini_model.id
    - prompt_token_count: int? #min(0)
    - total_token_count: int? #min(0)

- object: google_gemini_parameter_range
  id: [model_id, parameter_name]
  schema:
    - max_value: decimal?
    - min_value: decimal?
    - model_id: id -> google_gemini_model.id
    - parameter_name: string #max(100)

- object: gemini_model
  schema:
    - model_id: string
    - name: string
    - version: string
    - input_token_limit: int
    - output_token_limit: int
    - supported_generation_methods: list[string]

- object: gemini_safety_setting
  schema:
    - category: string
    - threshold: string

- object: gemini_safety_rating
  schema:
    - category: string
    - probability: string
    - blocked: boolean

- object: gemini_usage
  schema:
    - prompt_token_count: int
    - candidates_token_count: int
    - total_token_count: int

- object: gemini_chat_message
  schema:
    - role: string
    - content: string

- object: gemini_embedding
  schema:
    - values: list[float]
    - dimensions: int

- object: gemini_parameter_range
  schema:
    - min: float
    - max: float
    - default: float

- object: extract_schema
  schema:
    - fields: list[extract_schema_field]

- object: extract_schema_field
  schema:
    - name: string
    - type: string
    - description: string
    - required: boolean

- object: extracted_data
  schema:
    - values: map[string, any]
