- name: parse
  inputs:
    data: string #required
    delimiter: string = ","
    has_headers: boolean = true
    headers: list[string]
    skip_empty_lines: boolean = true
  outputs:
    rows: list[csv_row]

- name: generate
  inputs:
    data: list[csv_row] #required
    delimiter: string = ","
    headers: list[string]
    include_headers: boolean = true
  outputs:
    csv: string

- name: transform
  inputs:
    data: string #required
    delimiter: string = ","
    operations: list[csv_transform_operation] #required
  outputs:
    csv: string

- name: validate
  inputs:
    data: string #required
    delimiter: string = ","
    schema: csv_schema #required
  outputs:
    errors: list[csv_validation_error]
    valid: boolean

- name: csv_document
  class:
    headers: list[string]
    rows: list[csv_row]
    delimiter: string
    row_count: int

- name: csv_row
  class:
    values: map[string, string]

- name: csv_transform_operation
  class:
    operation: string
    column: string
    parameters: map[string, any]

- name: csv_schema
  class:
    columns: list[csv_column_schema]
    allow_extra_columns: boolean

- name: csv_column_schema
  class:
    name: string
    type: string
    required: boolean
    pattern: string

- name: csv_validation_error
  class:
    row: int
    column: string
    message: string
