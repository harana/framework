- name: from_html
  inputs:
    footer_template: string
    header_template: string
    html: string #required
    margin: pdf_margin
    options: pdf_options
    orientation: portrait | landscape = portrait
    page_size: a4 | letter | legal | a3 | a5 = a4
  outputs:
    page_count: int
    pdf: bytes
    size: int

- name: from_template
  inputs:
    data: pdf_template_data #required
    options: pdf_options
    orientation: portrait | landscape = portrait
    page_size: a4 | letter | legal | a3 | a5 = a4
    template_id: string #required
  outputs:
    page_count: int
    pdf: bytes
    size: int

- name: merge
  inputs:
    documents: list[bytes] #required
    output_name: string
  outputs:
    page_count: int
    pdf: bytes
    size: int

- name: split
  inputs:
    document: bytes #required
    pages: list[integer]
    ranges: list[string]
  outputs:
    documents: list[bytes]
    page_counts: list[integer]

- name: extract_pages
  inputs:
    document: bytes #required
    end_page: int #required
    start_page: int #required
  outputs:
    page_count: int
    pdf: bytes
    size: int

- name: extract_text
  inputs:
    document: bytes #required
    pages: list[integer]
    preserve_layout: boolean = false
  outputs:
    pages: list[pdf_page_text]
    text: string

- name: extract_images
  inputs:
    document: bytes #required
    format: png | jpeg | webp = png
    pages: list[integer]
  outputs:
    count: int
    images: list[pdf_extracted_image]

- name: add_watermark
  inputs:
    document: bytes #required
    opacity: float = 0.5
    pages: list[integer]
    position: center | top | bottom | diagonal = diagonal
    watermark_image: bytes
    watermark_text: string
  outputs:
    pdf: bytes
    size: int

- name: compress
  inputs:
    document: bytes #required
    quality: low | medium | high = medium
    remove_metadata: boolean = false
  outputs:
    compressed_size: int
    compression_ratio: float
    original_size: int
    pdf: bytes

- name: encrypt
  inputs:
    document: bytes #required
    owner_password: string
    permissions: pdf_permissions
    user_password: string #required
  outputs:
    pdf: bytes
    size: int

- name: decrypt
  inputs:
    document: bytes #required
    password: string #required
  outputs:
    pdf: bytes
    size: int

- name: get_metadata
  inputs:
    document: bytes #required
  outputs:
    author: string
    creation_date: date
    creator: string
    encrypted: boolean
    keywords: list[string]
    modification_date: date
    page_count: int
    producer: string
    size: int
    subject: string
    title: string

- name: set_metadata
  inputs:
    author: string
    creator: string
    document: bytes #required
    keywords: list[string]
    subject: string
    title: string
  outputs:
    pdf: bytes
    success: boolean

- name: rotate_pages
  inputs:
    angle: 90 | 180 | 270 #required
    document: bytes #required
    pages: list[integer]
  outputs:
    pdf: bytes
    size: int

- name: add_page_numbers
  inputs:
    alignment: left | center | right = center
    document: bytes #required
    font_size: int = 12
    format: string = "{page} of {total}"
    position: top | bottom = bottom
    start_page: int = 1
  outputs:
    pdf: bytes
    size: int

- name: to_images
  inputs:
    document: bytes #required
    dpi: int = 150
    format: png | jpeg | webp = png
    pages: list[integer]
  outputs:
    count: int
    images: list[bytes]

- name: fill_form
  inputs:
    document: bytes #required
    fields: pdf_form_fields #required
    flatten: boolean = false
  outputs:
    pdf: bytes
    size: int

- name: get_form_fields
  inputs:
    document: bytes #required
  outputs:
    count: int
    fields: list[pdf_form_field]

- name: pdf_document
  class:
    content: bytes
    page_count: int
    size: int
    title: string
    author: string
    orientation: string
    page_size: string

- name: pdf_margin
  class:
    top: float
    right: float
    bottom: float
    left: float

- name: pdf_options
  class:
    scale: float
    print_background: boolean
    prefer_css_page_size: boolean

- name: pdf_template_data
  class:
    values: map[string, any]

- name: pdf_page_text
  class:
    page_number: int
    text: string

- name: pdf_extracted_image
  class:
    page_number: int
    image: bytes
    format: string
    width: int
    height: int

- name: pdf_permissions
  class:
    print: boolean
    copy: boolean
    modify: boolean
    annotate: boolean

- name: pdf_form_fields
  class:
    fields: list[pdf_form_field_value]

- name: pdf_form_field_value
  class:
    name: string
    value: string

- name: pdf_form_field
  class:
    name: string
    type: string
    value: string
    required: boolean
    options: list[string]
