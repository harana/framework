- name: run_instances
  inputs:
    block_device_mappings: list[block_device_mapping]
    capacity_reservation_specification: capacity_reservation_specification
    cpu_options: cpu_options
    credit_specification: credit_specification
    disable_api_stop: boolean = false
    disable_api_termination: boolean = false
    ebs_optimized: boolean = false
    elastic_gpu_specification: list[elastic_gpu_specification]
    elastic_inference_accelerators: list[elastic_inference_accelerator]
    enclave_options: enclave_options
    hibernation_options: hibernation_options
    iam_instance_profile: iam_instance_profile
    image_id: string #required
    instance_initiated_shutdown_behavior: stop | terminate = stop
    instance_market_options: instance_market_options
    instance_type: string #required
    ipv6_address_count: int
    ipv6_addresses: list[ipv6_address]
    kernel_id: string
    key_name: string
    launch_template: launch_template_specification
    license_specifications: list[license_specification]
    maintenance_options: maintenance_options
    max_count: int = 1
    metadata_options: instance_metadata_options
    min_count: int = 1
    monitoring: boolean = false
    network_interfaces: list[network_interface_specification]
    placement: placement
    private_dns_name_options: private_dns_name_options
    private_ip_address: string
    ramdisk_id: string
    region: string
    security_group_ids: list[string]
    security_groups: list[string]
    subnet_id: string
    tags: ec2_tags
    user_data: string
  outputs:
    instances: list[instance]
    owner_id: string
    reservation_id: string
    success: boolean

- name: start_instances
  inputs:
    instance_ids: list[string] #required
    region: string
  outputs:
    starting_instances: list[instance_state_change]
    success: boolean

- name: stop_instances
  inputs:
    force: boolean = false
    hibernate: boolean = false
    instance_ids: list[string] #required
    region: string
  outputs:
    stopping_instances: list[instance_state_change]
    success: boolean

- name: reboot_instances
  inputs:
    instance_ids: list[string] #required
    region: string
  outputs:
    success: boolean

- name: terminate_instances
  inputs:
    instance_ids: list[string] #required
    region: string
  outputs:
    success: boolean
    terminating_instances: list[instance_state_change]

- name: describe_instances
  inputs:
    filters: list[ec2_filter]
    instance_ids: list[string]
    region: string
  outputs:
    reservations: list[reservation]

- name: describe_instance_status
  inputs:
    filters: list[ec2_filter]
    include_all_instances: boolean = false
    instance_ids: list[string]
    region: string
  outputs:
    instance_statuses: list[instance_status]

- name: modify_instance_attribute
  inputs:
    attribute: instance_type | kernel | ramdisk | user_data | disable_api_termination | instance_initiated_shutdown_behavior | block_device_mapping | source_dest_check | group_set | ebs_optimized | sriov_net_support | ena_support | enclave_options | disable_api_stop
    block_device_mappings: list[block_device_mapping]
    disable_api_stop: boolean
    disable_api_termination: boolean
    ebs_optimized: boolean
    ena_support: boolean
    groups: list[string]
    instance_id: string #required
    instance_initiated_shutdown_behavior: stop | terminate
    instance_type: string
    kernel: string
    ramdisk: string
    region: string
    source_dest_check: boolean
    sriov_net_support: string
    user_data: string
  outputs:
    success: boolean

- name: get_console_output
  inputs:
    instance_id: string #required
    latest: boolean = true
    region: string
  outputs:
    instance_id: string
    output: string
    success: boolean
    timestamp: date

- name: get_password_data
  inputs:
    instance_id: string #required
    region: string
  outputs:
    instance_id: string
    password_data: string
    success: boolean
    timestamp: date

- name: create_image
  inputs:
    block_device_mappings: list[block_device_mapping]
    description: string
    instance_id: string #required
    name: string #required
    no_reboot: boolean = false
    region: string
    tags: ec2_tags
  outputs:
    image_id: string
    success: boolean

- name: deregister_image
  inputs:
    image_id: string #required
    region: string
  outputs:
    success: boolean

- name: describe_images
  inputs:
    executable_users: list[string]
    filters: list[ec2_filter]
    image_ids: list[string]
    include_deprecated: boolean = false
    owners: list[string]
    region: string
  outputs:
    images: list[image]

- name: copy_image
  inputs:
    description: string
    destination_region: string
    encrypted: boolean = false
    kms_key_id: string
    name: string #required
    region: string
    source_image_id: string #required
    source_region: string #required
    tags: ec2_tags
  outputs:
    image_id: string
    success: boolean

- name: modify_image_attribute
  inputs:
    attribute: description | launchPermission
    description: string
    image_id: string #required
    launch_permission: launch_permission_modifications
    operation_type: add | remove
    region: string
    user_groups: list[string]
    user_ids: list[string]
  outputs:
    success: boolean

- name: create_snapshot
  inputs:
    description: string
    outpost_arn: string
    region: string
    tags: ec2_tags
    volume_id: string #required
  outputs:
    description: string
    encrypted: boolean
    owner_id: string
    progress: string
    snapshot_id: string
    start_time: date
    state: string
    success: boolean
    volume_id: string
    volume_size: int

- name: delete_snapshot
  inputs:
    region: string
    snapshot_id: string #required
  outputs:
    success: boolean

- name: describe_snapshots
  inputs:
    filters: list[ec2_filter]
    owner_ids: list[string]
    region: string
    restorable_by_user_ids: list[string]
    snapshot_ids: list[string]
  outputs:
    snapshots: list[snapshot]

- name: copy_snapshot
  inputs:
    description: string
    destination_region: string
    encrypted: boolean = false
    kms_key_id: string
    presigned_url: string
    region: string
    source_region: string #required
    source_snapshot_id: string #required
    tags: ec2_tags
  outputs:
    snapshot_id: string
    success: boolean

- name: create_volume
  inputs:
    availability_zone: string #required
    encrypted: boolean = false
    iops: int
    kms_key_id: string
    multi_attach_enabled: boolean = false
    outpost_arn: string
    region: string
    size: int
    snapshot_id: string
    tags: ec2_tags
    throughput: int
    volume_type: standard | io1 | io2 | gp2 | gp3 | sc1 | st1 = gp3
  outputs:
    attachments: list[volume_attachment]
    availability_zone: string
    create_time: date
    encrypted: boolean
    iops: int
    kms_key_id: string
    multi_attach_enabled: boolean
    size: int
    snapshot_id: string
    state: string
    success: boolean
    throughput: int
    volume_id: string
    volume_type: string

- name: delete_volume
  inputs:
    region: string
    volume_id: string #required
  outputs:
    success: boolean

- name: describe_volumes
  inputs:
    filters: list[ec2_filter]
    region: string
    volume_ids: list[string]
  outputs:
    volumes: list[volume]

- name: attach_volume
  inputs:
    device: string #required
    instance_id: string #required
    region: string
    volume_id: string #required
  outputs:
    attach_time: date
    delete_on_termination: boolean
    device: string
    instance_id: string
    state: string
    success: boolean
    volume_id: string

- name: detach_volume
  inputs:
    device: string
    force: boolean = false
    instance_id: string
    region: string
    volume_id: string #required
  outputs:
    attach_time: date
    delete_on_termination: boolean
    device: string
    instance_id: string
    state: string
    success: boolean
    volume_id: string

- name: modify_volume
  inputs:
    iops: int
    multi_attach_enabled: boolean
    region: string
    size: int
    throughput: int
    volume_id: string #required
    volume_type: standard | io1 | io2 | gp2 | gp3 | sc1 | st1
  outputs:
    modification_state: string
    original_iops: int
    original_size: int
    original_throughput: int
    original_volume_type: string
    progress: int
    start_time: date
    success: boolean
    target_iops: int
    target_size: int
    target_throughput: int
    target_volume_type: string
    volume_id: string

- name: create_key_pair
  inputs:
    key_format: pem | ppk = pem
    key_name: string #required
    key_type: rsa | ed25519 = rsa
    region: string
    tags: ec2_tags
  outputs:
    key_fingerprint: string
    key_material: string
    key_name: string
    key_pair_id: string
    success: boolean

- name: delete_key_pair
  inputs:
    key_name: string
    key_pair_id: string
    region: string
  outputs:
    success: boolean

- name: describe_key_pairs
  inputs:
    filters: list[ec2_filter]
    include_public_key: boolean = false
    key_names: list[string]
    key_pair_ids: list[string]
    region: string
  outputs:
    key_pairs: list[key_pair]

- name: import_key_pair
  inputs:
    key_name: string #required
    public_key_material: string #required
    region: string
    tags: ec2_tags
  outputs:
    key_fingerprint: string
    key_name: string
    key_pair_id: string
    success: boolean

- name: create_launch_template
  inputs:
    launch_template_data: launch_template_data #required
    launch_template_name: string #required
    region: string
    tags: ec2_tags
    version_description: string
  outputs:
    create_time: date
    created_by: string
    default_version_number: int
    latest_version_number: int
    launch_template_id: string
    launch_template_name: string
    success: boolean

- name: delete_launch_template
  inputs:
    launch_template_id: string
    launch_template_name: string
    region: string
  outputs:
    launch_template_id: string
    launch_template_name: string
    success: boolean

- name: describe_launch_templates
  inputs:
    filters: list[ec2_filter]
    launch_template_ids: list[string]
    launch_template_names: list[string]
    region: string
  outputs:
    launch_templates: list[launch_template]

- name: create_launch_template_version
  inputs:
    launch_template_data: launch_template_data #required
    launch_template_id: string
    launch_template_name: string
    region: string
    source_version: string
    version_description: string
  outputs:
    launch_template_version: launch_template_version
    success: boolean

- name: delete_launch_template_versions
  inputs:
    launch_template_id: string
    launch_template_name: string
    region: string
    versions: list[string] #required
  outputs:
    successfully_deleted_launch_template_versions: list[delete_launch_template_versions_response_success_item]
    unsuccessfully_deleted_launch_template_versions: list[delete_launch_template_versions_response_error_item]
    success: boolean

- name: modify_launch_template
  inputs:
    default_version: string
    launch_template_id: string
    launch_template_name: string
    region: string
  outputs:
    launch_template: launch_template
    success: boolean

- name: create_network_interface
  inputs:
    description: string
    groups: list[string]
    interface_type: efa | branch | trunk
    ipv4_prefix_count: int
    ipv4_prefixes: list[ipv4_prefix]
    ipv6_address_count: int
    ipv6_addresses: list[ipv6_address]
    ipv6_prefix_count: int
    ipv6_prefixes: list[ipv6_prefix]
    private_ip_address: string
    private_ip_addresses: list[private_ip_address]
    region: string
    secondary_private_ip_address_count: int
    subnet_id: string #required
    tags: ec2_tags
  outputs:
    network_interface: network_interface
    success: boolean

- name: delete_network_interface
  inputs:
    network_interface_id: string #required
    region: string
  outputs:
    success: boolean

- name: describe_network_interfaces
  inputs:
    filters: list[ec2_filter]
    network_interface_ids: list[string]
    region: string
  outputs:
    network_interfaces: list[network_interface]

- name: attach_network_interface
  inputs:
    device_index: int #required
    instance_id: string #required
    network_card_index: int
    network_interface_id: string #required
    region: string
  outputs:
    attachment_id: string
    network_card_index: int
    success: boolean

- name: detach_network_interface
  inputs:
    attachment_id: string #required
    force: boolean = false
    region: string
  outputs:
    success: boolean

- name: modify_network_interface_attribute
  inputs:
    attachment: network_interface_attachment_changes
    description: string
    groups: list[string]
    network_interface_id: string #required
    region: string
    source_dest_check: boolean
  outputs:
    success: boolean

- name: create_placement_group
  inputs:
    group_name: string
    partition_count: int
    region: string
    spread_level: host | rack
    strategy: cluster | spread | partition
    tags: ec2_tags
  outputs:
    group_arn: string
    group_id: string
    group_name: string
    partition_count: int
    state: string
    strategy: string
    success: boolean

- name: delete_placement_group
  inputs:
    group_name: string #required
    region: string
  outputs:
    success: boolean

- name: describe_placement_groups
  inputs:
    filters: list[ec2_filter]
    group_ids: list[string]
    group_names: list[string]
    region: string
  outputs:
    placement_groups: list[placement_group]

- name: describe_instance_types
  inputs:
    filters: list[ec2_filter]
    instance_types: list[string]
    region: string
  outputs:
    instance_types: list[instance_type_info]

- name: describe_availability_zones
  inputs:
    all_availability_zones: boolean = false
    filters: list[ec2_filter]
    region: string
    zone_ids: list[string]
    zone_names: list[string]
  outputs:
    availability_zones: list[availability_zone]

- name: describe_regions
  inputs:
    all_regions: boolean = false
    filters: list[ec2_filter]
    region_names: list[string]
  outputs:
    regions: list[region]

- name: create_tags
  inputs:
    region: string
    resources: list[string] #required
    tags: ec2_tags #required
  outputs:
    success: boolean

- name: delete_tags
  inputs:
    region: string
    resources: list[string] #required
    tags: ec2_tags
  outputs:
    success: boolean

- name: describe_tags
  inputs:
    filters: list[ec2_filter]
    region: string
  outputs:
    tags: list[tag_description]

- name: request_spot_instances
  inputs:
    availability_zone_group: string
    block_duration_minutes: int
    instance_count: int = 1
    instance_interruption_behavior: hibernate | stop | terminate = terminate
    launch_group: string
    launch_specification: launch_specification
    region: string
    spot_price: string
    tags: ec2_tags
    type: one-time | persistent = one-time
    valid_from: date
    valid_until: date
  outputs:
    spot_instance_requests: list[spot_instance_request]
    success: boolean

- name: cancel_spot_instance_requests
  inputs:
    region: string
    spot_instance_request_ids: list[string] #required
  outputs:
    cancelled_spot_instance_requests: list[cancelled_spot_instance_request]
    success: boolean

- name: describe_spot_instance_requests
  inputs:
    filters: list[ec2_filter]
    region: string
    spot_instance_request_ids: list[string]
  outputs:
    spot_instance_requests: list[spot_instance_request]

- name: describe_spot_price_history
  inputs:
    availability_zone: string
    end_time: date
    filters: list[ec2_filter]
    instance_types: list[string]
    product_descriptions: list[string]
    region: string
    start_time: date
  outputs:
    spot_price_history: list[spot_price]

- name: create_fleet
  inputs:
    context: string
    excess_capacity_termination_policy: no-termination | termination = termination
    launch_template_configs: list[fleet_launch_template_config_request] #required
    on_demand_options: on_demand_options
    region: string
    replace_unhealthy_instances: boolean = false
    spot_options: spot_options
    tags: ec2_tags
    target_capacity_specification: target_capacity_specification #required
    terminate_instances_with_expiration: boolean = false
    type: request | maintain | instant = maintain
    valid_from: date
    valid_until: date
  outputs:
    errors: list[create_fleet_error]
    fleet_id: string
    instances: list[create_fleet_instance]
    success: boolean

- name: delete_fleets
  inputs:
    fleet_ids: list[string] #required
    region: string
    terminate_instances: boolean #required
  outputs:
    successful_fleet_deletions: list[delete_fleet_success_item]
    unsuccessful_fleet_deletions: list[delete_fleet_error_item]
    success: boolean

- name: describe_fleets
  inputs:
    filters: list[ec2_filter]
    fleet_ids: list[string]
    region: string
  outputs:
    fleets: list[fleet_data]

- name: modify_fleet
  inputs:
    context: string
    excess_capacity_termination_policy: no-termination | termination
    fleet_id: string #required
    launch_template_configs: list[fleet_launch_template_config_request]
    region: string
    target_capacity_specification: target_capacity_specification
  outputs:
    success: boolean
