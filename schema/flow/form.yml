- name: validate
  inputs:
    data: form_data #required
    form_id: string #required
    strict: boolean = true
  outputs:
    errors: list[form_validation_error]
    valid: boolean

- name: submit
  inputs:
    data: form_data #required
    form_id: string #required
    validate: boolean = true
  outputs:
    errors: list[form_validation_error]
    submission_id: string
    success: boolean

- name: get
  inputs:
    form_id: string #required
  outputs:
    fields: list[form_field]
    metadata: form_metadata
    validation_rules: form_validation_rules

- name: get_submission
  inputs:
    submission_id: string #required
  outputs:
    data: form_data
    form_id: string
    status: string
    submitted_at: date

- name: list_submissions
  inputs:
    end_date: date
    form_id: string #required
    limit: int = 100
    offset: int = 0
    start_date: date
    status: string
  outputs:
    submissions: list[form_submission_info]
    total: int

- name: update_submission
  inputs:
    data: form_data #required
    submission_id: string #required
    validate: boolean = true
  outputs:
    errors: list[form_validation_error]
    success: boolean

- name: delete_submission
  inputs:
    submission_id: string #required
  outputs:
    success: boolean

- name: export_submissions
  inputs:
    end_date: date
    form_id: string #required
    format: csv | json | xlsx = csv
    start_date: date
  outputs:
    content: bytes
    count: int
    filename: string

- name: form_submission
  class:
    submission_id: string
    form_id: string
    data: form_data
    status: string
    submitted_at: date
    updated_at: date

- name: form_data
  class:
    values: map[string, any]

- name: form_validation_error
  class:
    field: string
    message: string
    code: string

- name: form_field
  class:
    name: string
    type: string
    label: string
    required: boolean
    options: list[string]

- name: form_metadata
  class:
    title: string
    description: string
    version: string

- name: form_validation_rules
  class:
    rules: map[string, any]

- name: form_submission_info
  class:
    submission_id: string
    form_id: string
    status: string
    submitted_at: date
