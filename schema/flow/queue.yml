- name: enqueue
  inputs:
    deduplication_id: string
    delay_seconds: int = 0
    message: any #required
    priority: int = 0
    queue_name: string #required
  outputs:
    message_id: string
    success: boolean

- name: dequeue
  inputs:
    queue_name: string #required
    visibility_timeout: int = 30
    wait_time_seconds: int = 0
  outputs:
    found: boolean
    message: any
    message_id: string
    receipt_handle: string

- name: peek
  inputs:
    count: int = 1
    queue_name: string #required
  outputs:
    messages: list[queue_peek_message]

- name: acknowledge
  inputs:
    queue_name: string #required
    receipt_handle: string #required
  outputs:
    success: boolean

- name: nack
  inputs:
    delay_seconds: int = 0
    queue_name: string #required
    receipt_handle: string #required
  outputs:
    success: boolean

- name: get_queue_stats
  inputs:
    queue_name: string #required
  outputs:
    delayed_count: int
    in_flight_count: int
    message_count: int
    oldest_message_age: int

- name: purge_queue
  inputs:
    queue_name: string #required
  outputs:
    messages_deleted: int
    success: boolean

- name: create_queue
  inputs:
    max_message_size: int = 262144
    message_retention: int = 345600
    queue_name: string #required
    visibility_timeout: int = 30
  outputs:
    queue_url: string
    success: boolean

- name: delete_queue
  inputs:
    queue_name: string #required
  outputs:
    success: boolean

- name: list_queues
  inputs:
    prefix: string
  outputs:
    queues: list[string]
    total: int

- name: move_to_dlq
  inputs:
    queue_name: string #required
    reason: string
    receipt_handle: string #required
  outputs:
    success: boolean

- name: queue_message
  class:
    message_id: string
    queue_name: string
    message: any
    priority: int
    delay_seconds: int
    receipt_handle: string
    visible_at: date

- name: queue_peek_message
  class:
    message_id: string
    message: any
    enqueued_at: date
