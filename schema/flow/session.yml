- name: create
  inputs:
    data: session_data
    ttl: int = 3600
    user_id: string #required
  outputs:
    expires_at: date
    session_id: string

- name: get
  inputs:
    session_id: string #required
  outputs:
    created_at: date
    data: session_data
    expires_at: date
    found: boolean
    user_id: string

- name: update
  inputs:
    data: session_data #required
    merge: boolean = true
    session_id: string #required
  outputs:
    success: boolean

- name: destroy
  inputs:
    session_id: string #required
  outputs:
    success: boolean

- name: refresh
  inputs:
    session_id: string #required
    ttl: int
  outputs:
    expires_at: date
    success: boolean

- name: get_value
  inputs:
    key: string #required
    session_id: string #required
  outputs:
    found: boolean
    value: any

- name: set_value
  inputs:
    key: string #required
    session_id: string #required
    value: any #required
  outputs:
    success: boolean

- name: delete_value
  inputs:
    key: string #required
    session_id: string #required
  outputs:
    success: boolean

- name: list_users
  inputs:
    user_id: string #required
  outputs:
    sessions: list[session_info]
    total: int

- name: destroy_users
  inputs:
    except_id: string
    user_id: string #required
  outputs:
    destroyed_count: int
    success: boolean

- name: validate
  inputs:
    session_id: string #required
  outputs:
    expires_at: date
    user_id: string
    valid: boolean

- name: session
  class:
    session_id: string
    user_id: string
    data: session_data
    created_at: date
    expires_at: date

- name: session_data
  class:
    values: map[string, any]

- name: session_info
  class:
    session_id: string
    user_id: string
    created_at: date
    expires_at: date
