- action: get
  inputs:
    cache_ttl: int
    key: string
    namespace: string
    type: text | json | array_buffer | stream = text
  outputs:
    found: boolean
    metadata: any
    value: any

- action: get_with_metadata
  inputs:
    cache_ttl: int
    key: string
    namespace: string
    type: text | json | array_buffer | stream = text
  outputs:
    found: boolean
    metadata: any
    value: any

- action: put
  inputs:
    expiration: int
    expiration_ttl: int
    key: string
    metadata: any
    namespace: string
    value: any

- action: put_with_metadata
  inputs:
    expiration: int
    expiration_ttl: int
    key: string
    metadata: any
    namespace: string
    value: any

- action: delete
  inputs:
    key: string
    namespace: string

- action: list
  inputs:
    cursor: string
    limit: int = 1000
    namespace: string
    prefix: string
  outputs:
    cursor: string
    keys: list[kv_key]
    list_complete: boolean

- object: cf_kv_namespace
  schema:
    account_id: string
    created_at: date = now()
    namespace_id: string
    namespace_name: string
    updated_at: date = now()

- object: cf_kv_entry
  schema:
    cache_ttl: int
    created_at: date = now()
    expiration: int
    expiration_ttl: int
    key: string
    metadata: string #json
    namespace_id: string
    updated_at: date = now()
    value: string
    value_type: text | json | array_buffer | stream = text
