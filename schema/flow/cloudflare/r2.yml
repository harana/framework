- action: get
  inputs:
    bucket: string #required
    key: string #required
    only_if: r2_conditional
    range: r2_range
  outputs:
    body: bytes
    custom_metadata: any
    etag: string
    http_etag: string
    http_metadata: r2_http_metadata
    key: string
    size: int
    uploaded: date
    version: string

- action: head
  inputs:
    bucket: string #required
    key: string #required
  outputs:
    custom_metadata: any
    etag: string
    http_etag: string
    http_metadata: r2_http_metadata
    key: string
    size: int
    uploaded: date
    version: string

- action: put
  inputs:
    bucket: string #required
    custom_metadata: any
    http_metadata: r2_http_metadata
    key: string #required
    md5: string
    only_if: r2_conditional
    sha1: string
    sha256: string
    sha384: string
    sha512: string
    storage_class: standard | infrequent_access = standard
    value: bytes #required
  outputs:
    etag: string
    key: string
    size: int
    success: boolean
    uploaded: date
    version: string

- action: delete
  inputs:
    bucket: string #required
    key: string #required
  outputs:
    success: boolean

- action: delete_many
  inputs:
    bucket: string #required
    keys: list[string] #required
  outputs:
    success: boolean

- action: list
  inputs:
    bucket: string #required
    cursor: string
    delimiter: string
    include: list[http_metadata | custom_metadata]
    limit: int = 1000
    prefix: string
    start_after: string
  outputs:
    cursor: string
    delimited_prefixes: list[string]
    objects: list[r2_object]
    truncated: boolean

- action: create_multipart_upload
  inputs:
    bucket: string #required
    custom_metadata: any
    http_metadata: r2_http_metadata
    key: string #required
    storage_class: standard | infrequent_access = standard
  outputs:
    key: string
    upload_id: string

- action: upload_part
  inputs:
    bucket: string #required
    key: string #required
    part_number: int #required
    upload_id: string #required
    value: bytes #required
  outputs:
    etag: string
    part_number: int

- action: complete_multipart_upload
  inputs:
    bucket: string #required
    key: string #required
    parts: list[r2_uploaded_part] #required
    upload_id: string #required
  outputs:
    etag: string
    key: string
    size: int
    success: boolean
    uploaded: date
    version: string

- action: abort_multipart_upload
  inputs:
    bucket: string #required
    key: string #required
    upload_id: string #required
  outputs:
    success: boolean
