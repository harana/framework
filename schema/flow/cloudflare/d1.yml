- action: exec
  inputs:
    database: string
    sql: string
  outputs:
    changes: int
    duration: float
    last_row_id: int
    rows_read: int
    rows_written: int

- action: prepare
  inputs:
    database: string
    sql: string
  outputs:
    statement: d1_prepared_statement

- action: run
  inputs:
    bind_values: list[any]
    database: string
    sql: string
  outputs:
    changes: int
    duration: float
    last_row_id: int
    results: list[any]
    rows_read: int
    rows_written: int

- action: first
  inputs:
    bind_values: list[any]
    column: string
    database: string
    sql: string
  outputs:
    result: any

- action: all
  inputs:
    bind_values: list[any]
    database: string
    sql: string
  outputs:
    changes: int
    duration: float
    last_row_id: int
    results: list[any]
    rows_read: int
    rows_written: int

- action: raw
  inputs:
    bind_values: list[any]
    database: string
    sql: string
  outputs:
    columns: list[string]
    rows: list[list[any]]

- action: batch
  inputs:
    database: string
    statements: list[d1_batch_statement]
  outputs:
    results: list[d1_batch_result]

- action: dump
  inputs:
    database: string
  outputs:
    data: bytes

- object: cf_d1_database
  schema:
    account_id: string
    created_at: date = now()
    database_id: string
    database_name: string
    file_size: int = 0
    num_tables: int = 0
    region: string
    updated_at: date = now()
    version: string

- object: cf_d1_query_log
  schema:
    changes: int = 0
    database_id: string
    duration_ms: float
    executed_at: date = now()
    last_row_id: int
    rows_read: int = 0
    rows_written: int = 0
    sql: string
    status: success | error = success
