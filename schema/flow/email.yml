- name: send
  inputs:
    attachments: list[email_attachment]
    bcc: list[string]
    body: string #required
    cc: list[string]
    content_type: text | html = text
    from: string
    reply_to: string
    subject: string #required
    to: list[string] #required
  outputs:
    message_id: string
    success: boolean

- name: send_template
  inputs:
    attachments: list[email_attachment]
    bcc: list[string]
    cc: list[string]
    from: string
    reply_to: string
    template_id: string #required
    to: list[string] #required
    variables: map[string, string]
  outputs:
    message_id: string
    success: boolean

- name: validate_email
  inputs:
    check_mx: boolean = false
    check_smtp: boolean = false
    email: string #required
  outputs:
    reason: string
    valid: boolean

- name: status
  inputs:
    message_id: string #required
  outputs:
    clicked_at: date
    delivered_at: date
    error: string
    opened_at: date
    status: queued | sent | delivered | bounced | failed

- name: send_bulk
  inputs:
    body: string #required
    content_type: text | html = text
    from: string
    recipients: list[email_recipient] #required
    subject: string #required
  outputs:
    failed: int
    message_ids: list[string]
    successful: int
    total: int

- name: create_template
  inputs:
    body: string #required
    content_type: text | html = html
    name: string #required
    subject: string #required
    variables: list[string]
  outputs:
    success: boolean
    template_id: string

- name: delete_template
  inputs:
    template_id: string #required
  outputs:
    success: boolean

- name: list_templates
  inputs:
    limit: int = 100
    offset: int = 0
  outputs:
    templates: list[email_template]
    total: int

- name: email_message
  class:
    message_id: string
    from: string
    to: list[string]
    cc: list[string]
    bcc: list[string]
    subject: string
    body: string
    content_type: string
    attachments: list[email_attachment]
    status: string

- name: email_attachment
  class:
    filename: string
    content_type: string
    content: bytes
    size: int

- name: email_recipient
  class:
    email: string
    name: string
    variables: map[string, string]

- name: email_template
  class:
    template_id: string
    name: string
    subject: string
    body: string
    content_type: string
    variables: list[string]
