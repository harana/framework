- name: client/get
  inputs:
    - name: url
      type: string
      required: true
      description: the url to send the get request to
    - name: headers
      type: hash
      required: false
      description: optional http headers to include with the request
    - name: timeout
      type: integer
      required: false
      description: request timeout in seconds (default 30)
    - name: query_params
      type: hash
      required: false
      description: optional query parameters to append to the url
  outputs:
    - get_output

- name: client/post
  inputs:
    - name: url
      type: string
      required: true
      description: the url to send the post request to
    - name: body
      type: string
      required: false
      description: the request body content
    - name: content_type
      type: string
      required: false
      description: content type header (default application/json)
    - name: headers
      type: hash
      required: false
      description: optional http headers to include with the request
    - name: query_params
      type: hash
      required: false
      description: optional query parameters to append to the url
    - name: timeout
      type: integer
      required: false
      description: request timeout in seconds (default 30)
  outputs:
    - post_output

- name: client/put
  inputs:
    - name: url
      type: string
      required: true
      description: the url to send the put request to
    - name: body
      type: string
      required: false
      description: the request body content
    - name: content_type
      type: string
      required: false
      description: content type header (default application/json)
    - name: headers
      type: hash
      required: false
      description: optional http headers to include with the request
    - name: query_params
      type: hash
      required: false
      description: optional query parameters to append to the url
    - name: timeout
      type: integer
      required: false
      description: request timeout in seconds (default 30)
  outputs:
    - put_output

- name: client/patch
  inputs:
    - name: url
      type: string
      required: true
      description: the url to send the patch request to
    - name: body
      type: string
      required: false
      description: the request body content
    - name: content_type
      type: string
      required: false
      description: content type header (default application/json)
    - name: headers
      type: hash
      required: false
      description: optional http headers to include with the request
    - name: query_params
      type: hash
      required: false
      description: optional query parameters to append to the url
    - name: timeout
      type: integer
      required: false
      description: request timeout in seconds (default 30)
  outputs:
    - patch_output

- name: client/delete
  inputs:
    - name: url
      type: string
      required: true
      description: the url to send the delete request to
    - name: headers
      type: hash
      required: false
      description: optional http headers to include with the request
    - name: query_params
      type: hash
      required: false
      description: optional query parameters to append to the url
    - name: timeout
      type: integer
      required: false
      description: request timeout in seconds (default 30)
  outputs:
    - delete_output

- name: client/download
  inputs:
    - name: url
      type: string
      required: true
      description: the url to download the file from
    - name: headers
      type: hash
      required: false
      description: optional http headers to include with the request
    - name: timeout
      type: integer
      required: false
      description: request timeout in seconds (default 300)
  outputs:
    - download_output

- name: client/upload
  inputs:
    - name: file
      type: bytes
      required: true
      description: the file content to upload
    - name: filename
      type: string
      required: true
      description: the filename for the uploaded file
    - name: url
      type: string
      required: true
      description: the url to upload the file to
    - name: headers
      type: hash
      required: false
      description: optional http headers to include with the request
    - name: timeout
      type: integer
      required: false
      description: request timeout in seconds (default 300)
  outputs:
    - upload_output

- name: client/graphql_query
  inputs:
    - name: url
      type: string
      required: true
      description: the graph_ql endpoint url
    - name: query
      type: string
      required: true
      description: the graph_ql query string
    - name: headers
      type: hash
      required: false
      description: optional http headers to include with the request
    - name: variables
      type: hash
      required: false
      description: optional graph_ql variables
    - name: timeout
      type: integer
      required: false
      description: request timeout in seconds (default 30)
  outputs:
    - graphql_query_output

# Output Types

- class: get_output
  fields:
    - name: body
      type: string
      description: response body content
    - name: headers
      type: hash
      description: response headers
    - name: status_code
      type: integer
      description: http status code

- class: post_output
  fields:
    - name: body
      type: string
      description: response body content
    - name: headers
      type: hash
      description: response headers
    - name: status_code
      type: integer
      description: http status code

- class: put_output
  fields:
    - name: body
      type: string
      description: response body content
    - name: headers
      type: hash
      description: response headers
    - name: status_code
      type: integer
      description: http status code

- class: patch_output
  fields:
    - name: body
      type: string
      description: response body content
    - name: headers
      type: hash
      description: response headers
    - name: status_code
      type: integer
      description: http status code

- class: delete_output
  fields:
    - name: body
      type: string
      description: response body content
    - name: headers
      type: hash
      description: response headers
    - name: status_code
      type: integer
      description: http status code

- class: download_output
  fields:
    - name: content
      type: bytes
      description: downloaded file content
    - name: content_type
      type: string
      description: content type of the downloaded file
    - name: size
      type: integer
      description: size of the downloaded content in bytes

- class: upload_output
  fields:
    - name: body
      type: string
      description: upload response body
    - name: status_code
      type: integer
      description: http status code

- class: graphql_query_output
  fields:
    - name: data
      type: any
      description: graph_ql response data
    - name: errors
      type: array[graphql_error]
      description: graph_ql errors if any

- class: graphql_error
  fields:
    - name: message
      type: string
      description: error message
    - name: path
      type: array[string]
      description: path to the field that caused the error
    - name: locations
      type: array[graphql_error_location]
      description: source locations related to the error

- class: graphql_error_location
  fields:
    - name: line
      type: integer
      description: line number in the query
    - name: column
      type: integer
      description: column number in the query
