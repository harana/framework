- name: insert
  inputs:
    collection: string #required
    database: string #required
    document: mongo_document_data #required
  outputs:
    inserted_id: string
    success: boolean

- name: insert_many
  inputs:
    collection: string #required
    database: string #required
    documents: list[mongo_document_data] #required
    ordered: boolean = true
  outputs:
    inserted_count: int
    inserted_ids: list[string]
    success: boolean

- name: find_one
  inputs:
    collection: string #required
    database: string #required
    filter: mongo_filter #required
    projection: mongo_projection
  outputs:
    document: mongo_document_data
    found: boolean

- name: find
  inputs:
    collection: string #required
    database: string #required
    filter: mongo_filter = {}
    limit: int
    projection: mongo_projection
    skip: int = 0
    sort: mongo_sort
  outputs:
    count: int
    documents: list[mongo_document_data]

- name: update_one
  inputs:
    collection: string #required
    database: string #required
    filter: mongo_filter #required
    update: mongo_update #required
    upsert: boolean = false
  outputs:
    matched_count: int
    modified_count: int
    success: boolean
    upserted_id: string

- name: update_many
  inputs:
    collection: string #required
    database: string #required
    filter: mongo_filter #required
    update: mongo_update #required
    upsert: boolean = false
  outputs:
    matched_count: int
    modified_count: int
    success: boolean
    upserted_id: string

- name: replace_one
  inputs:
    collection: string #required
    database: string #required
    filter: mongo_filter #required
    replacement: mongo_document_data #required
    upsert: boolean = false
  outputs:
    matched_count: int
    modified_count: int
    success: boolean
    upserted_id: string

- name: delete_one
  inputs:
    collection: string #required
    database: string #required
    filter: mongo_filter #required
  outputs:
    deleted_count: int
    success: boolean

- name: delete_many
  inputs:
    collection: string #required
    database: string #required
    filter: mongo_filter #required
  outputs:
    deleted_count: int
    success: boolean

- name: count
  inputs:
    collection: string #required
    database: string #required
    filter: mongo_filter = {}
  outputs:
    count: int

- name: aggregate
  inputs:
    collection: string #required
    database: string #required
    pipeline: list[mongo_pipeline_stage] #required
  outputs:
    documents: list[mongo_document_data]

- name: create_index
  inputs:
    collection: string #required
    database: string #required
    keys: mongo_index_keys #required
    name: string
    unique: boolean = false
  outputs:
    index_name: string
    success: boolean

- name: drop_index
  inputs:
    collection: string #required
    database: string #required
    index_name: string #required
  outputs:
    success: boolean

- name: list_collections
  inputs:
    database: string #required
  outputs:
    collections: list[string]

- name: drop_collection
  inputs:
    collection: string #required
    database: string #required
  outputs:
    success: boolean

- name: bulk_write
  inputs:
    collection: string #required
    database: string #required
    operations: list[mongo_bulk_operation] #required
    ordered: boolean = true
  outputs:
    deleted_count: int
    inserted_count: int
    matched_count: int
    modified_count: int
    success: boolean
    upserted_count: int

- name: mongo_document
  class:
    _id: string
    collection: string
    database: string
    document: mongo_document_data

- name: mongo_document_data
  class:
    data: map[string, any]

- name: mongo_filter
  class:
    conditions: map[string, any]

- name: mongo_projection
  class:
    fields: map[string, integer]

- name: mongo_sort
  class:
    fields: map[string, integer]

- name: mongo_update
  class:
    operators: map[string, any]

- name: mongo_pipeline_stage
  class:
    stage: map[string, any]

- name: mongo_index_keys
  class:
    fields: map[string, integer]

- name: mongo_bulk_operation
  class:
    operation_type: string
    filter: mongo_filter
    document: mongo_document_data
    update: mongo_update
