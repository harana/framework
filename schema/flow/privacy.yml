- name: Record Consent
  method: record_consent
  inputs:
    consent_type: Marketing | Analytics | Functional | Necessary #required
    granted: Boolean #required
    ip_address: String
    metadata: Map[String, Any]
    user_agent: String
    user_id: String #required
    version: String #required
  outputs:
    consent_id: String
    success: Boolean
    timestamp: Int
    user_id: String

- name: Revoke Consent
  method: revoke_consent
  inputs:
    consent_type: Marketing | Analytics | Functional | Necessary #required
    reason: String
    user_id: String #required
  outputs:
    consent_id: String
    revoked_at: Int
    success: Boolean
    user_id: String

- name: Get Consent Status
  method: get_consent_status
  inputs:
    consent_type: Marketing | Analytics | Functional | Necessary
    user_id: String #required
  outputs:
    consents: List[PrivacyConsent]
    user_id: String

- name: Update Consent
  method: update_consent
  inputs:
    consent_id: String #required
    granted: Boolean #required
    version: String
  outputs:
    consent_id: String
    success: Boolean

- name: Export User Data
  method: export_data
  inputs:
    exclude_sections: List[String]
    format: Json | Csv | Xml = Json
    include_sections: List[String]
    user_id: String #required
  outputs:
    download_url: String
    expires_at: Int
    export_id: String
    status: String
    user_id: String

- name: Get Export Status
  method: get_export_status
  inputs:
    export_id: String #required
  outputs:
    completed_at: Int
    created_at: Int
    download_url: String
    export_id: String
    status: Pending | Processing | Completed | Failed

- name: Delete User Data
  method: delete_data
  inputs:
    delete_type: Soft | Hard = Soft
    reason: String #required
    retain_sections: List[String]
    user_id: String #required
  outputs:
    deletion_id: String
    scheduled_at: Int
    status: String
    success: Boolean
    user_id: String

- name: Get Deletion Status
  method: get_deletion_status
  inputs:
    deletion_id: String #required
  outputs:
    completed_at: Int
    deletion_id: String
    scheduled_at: Int
    status: Pending | Processing | Completed | Failed
    user_id: String

- name: Cancel Data Deletion
  method: cancel_deletion
  inputs:
    deletion_id: String #required
  outputs:
    cancelled: Boolean
    deletion_id: String
    success: Boolean

- name: Anonymize User Data
  method: anonymize_data
  inputs:
    retain_sections: List[String]
    user_id: String #required
  outputs:
    anonymization_id: String
    success: Boolean
    user_id: String

- name: List Consent History
  method: list_consent_history
  inputs:
    consent_type: Marketing | Analytics | Functional | Necessary
    end_date: Int
    limit: Int = 100
    start_date: Int
    user_id: String #required
  outputs:
    history: List[PrivacyConsentHistory]
    total: Int
    user_id: String

- name: Record Data Access
  method: record_data_access
  inputs:
    access_type: Read | Write | Delete #required
    accessor_id: String #required
    purpose: String
    resource: String #required
    user_id: String #required
  outputs:
    access_id: String
    success: Boolean
    timestamp: Int

- name: Get Data Access Log
  method: get_access_log
  inputs:
    end_date: Int
    limit: Int = 100
    start_date: Int
    user_id: String #required
  outputs:
    accesses: List[PrivacyDataAccess]
    total: Int
    user_id: String

- name: Create Privacy Policy Version
  method: create_policy_version
  inputs:
    content: String #required
    effective_date: Int #required
    title: String #required
    version: String #required
  outputs:
    policy_id: String
    success: Boolean
    version: String

- name: Get Active Policy Version
  method: get_active_policy
  inputs:
    policy_type: Privacy | Terms | Cookie = Privacy
  outputs:
    content: String
    effective_date: Int
    policy_id: String
    version: String

- name: Record Policy Acceptance
  method: record_policy_acceptance
  inputs:
    ip_address: String
    policy_id: String #required
    user_agent: String
    user_id: String #required
  outputs:
    acceptance_id: String
    success: Boolean
    timestamp: Int
    user_id: String

- name: Verify Right To Be Forgotten
  method: verify_rtbf_eligibility
  inputs:
    user_id: String #required
  outputs:
    blocking_factors: List[String]
    eligible: Boolean
    reasons: List[String]
    user_id: String

- name: Consent
  class:
    consent_id: String
    user_id: String
    consent_type: String
    granted: Boolean
    version: String
    timestamp: Date
    ip_address: String
    user_agent: String

- name: PrivacyConsent
  class:
    consent_id: String
    consent_type: String
    granted: Boolean
    version: String
    timestamp: Date

- name: PrivacyConsentHistory
  class:
    consent_id: String
    consent_type: String
    granted: Boolean
    version: String
    method: String
    timestamp: Date

- name: PrivacyDataAccess
  class:
    access_id: String
    accessor_id: String
    access_type: String
    resource: String
    purpose: String
    timestamp: Date
