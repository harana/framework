- name: execute
  inputs:
    database: string
    parameters: list[any]
    query: string #required
  outputs:
    affected_rows: int
    last_insert_id: string
    success: boolean

- name: select
  inputs:
    database: string
    limit: int
    offset: int = 0
    parameters: list[any]
    query: string #required
  outputs:
    column_names: list[string]
    count: int
    rows: list[sql_row]

- name: insert
  inputs:
    database: string
    parameters: list[any]
    query: string #required
  outputs:
    affected_rows: int
    last_insert_id: string
    success: boolean

- name: update
  inputs:
    database: string
    parameters: list[any]
    query: string #required
  outputs:
    affected_rows: int
    success: boolean

- name: delete
  inputs:
    database: string
    parameters: list[any]
    query: string #required
  outputs:
    affected_rows: int
    success: boolean

- name: batch
  inputs:
    database: string
    queries: list[sql_batch_query] #required
  outputs:
    failed_count: int
    results: list[sql_batch_result]
    success: boolean
    success_count: int

- name: begin_transaction
  inputs:
    database: string
    isolation_level: read_uncommitted | read_committed | repeatable_read | serializable
  outputs:
    success: boolean
    transaction_id: string

- name: commit
  inputs:
    database: string
    transaction_id: string #required
  outputs:
    success: boolean

- name: rollback
  inputs:
    database: string
    transaction_id: string #required
  outputs:
    success: boolean

- name: call_procedure
  inputs:
    database: string
    parameters: list[any]
    procedure_name: string #required
  outputs:
    out_parameters: sql_output_parameters
    result_sets: list[sql_result_set]
    success: boolean

- name: get_schema
  inputs:
    database: string
    table_name: string #required
  outputs:
    columns: list[sql_column_info]
    indexes: list[sql_index_info]
    primary_key: list[string]

- name: list_tables
  inputs:
    database: string
    schema: string
  outputs:
    tables: list[string]

- name: create_table
  inputs:
    columns: list[sql_column_definition] #required
    database: string
    if_not_exists: boolean = true
    table_name: string #required
  outputs:
    success: boolean

- name: drop_table
  inputs:
    database: string
    if_exists: boolean = true
    table_name: string #required
  outputs:
    success: boolean

- name: truncate_table
  inputs:
    database: string
    table_name: string #required
  outputs:
    success: boolean

- name: create_index
  inputs:
    columns: list[string] #required
    database: string
    index_name: string #required
    table_name: string #required
    unique: boolean = false
  outputs:
    success: boolean

- name: drop_index
  inputs:
    database: string
    if_exists: boolean = true
    index_name: string #required
    table_name: string
  outputs:
    success: boolean

- name: bulk_insert
  inputs:
    columns: list[string] #required
    database: string
    rows: list[list[any]] #required
    table_name: string #required
  outputs:
    affected_rows: int
    success: boolean

- name: prepared_statement
  inputs:
    database: string
    parameters: list[any]
    statement: string #required
  outputs:
    affected_rows: int
    rows: list[sql_row]
    success: boolean

- name: sql_query
  class:
    query: string
    parameters: list[any]
    database: string
    affected_rows: int
    rows: list[sql_row]

- name: sql_row
  class:
    values: map[string, any]

- name: sql_batch_query
  class:
    query: string
    parameters: list[any]

- name: sql_batch_result
  class:
    success: boolean
    affected_rows: int
    error: string

- name: sql_output_parameters
  class:
    values: map[string, any]

- name: sql_result_set
  class:
    columns: list[string]
    rows: list[sql_row]

- name: sql_column_info
  class:
    name: string
    data_type: string
    nullable: boolean
    default_value: string
    max_length: int

- name: sql_index_info
  class:
    name: string
    columns: list[string]
    unique: boolean

- name: sql_column_definition
  class:
    name: string
    data_type: string
    nullable: boolean
    default_value: string
    primary_key: boolean
