- name: generate_text
  inputs:
    max_tokens: int = 1000
    model: string = "default"
    prompt: string #required
    temperature: float = 0.7
  outputs:
    text: string
    tokens_used: int

- name: chat_completion
  inputs:
    max_tokens: int = 1000
    messages: list[ai_chat_message] #required
    model: string = "default"
    system_prompt: string
    temperature: float = 0.7
  outputs:
    response: string
    tokens_used: int

- name: generate_embeddings
  inputs:
    model: string = "default"
    text: string #required
  outputs:
    dimensions: int
    embeddings: list[float]

- name: generate_image
  inputs:
    model: string = "default"
    prompt: string #required
    quality: standard | hd = standard
    size: string = "1024x1024"
  outputs:
    base64: string
    url: string

- name: transcribe_audio
  inputs:
    audio: bytes #required
    language: string
    model: string = "default"
  outputs:
    duration: float
    text: string

- name: classify_text
  inputs:
    labels: list[string] #required
    model: string = "default"
    text: string #required
  outputs:
    confidence: float
    label: string
    scores: map[string, float]

- name: summarize_text
  inputs:
    max_length: int = 500
    model: string = "default"
    text: string #required
  outputs:
    summary: string

- name: extract_entities
  inputs:
    entity_types: list[string]
    model: string = "default"
    text: string #required
  outputs:
    entities: list[ai_entity]

- name: onnx_load_model
  inputs:
    model_path: string #required
    optimize: boolean = true
  outputs:
    input_shapes: list[ai_tensor_shape]
    model_id: string
    output_shapes: list[ai_tensor_shape]

- name: onnx_inference
  inputs:
    input_data: map[string, any] #required
    model_id: string #required
  outputs:
    inference_time_ms: float
    outputs: map[string, any]

- name: onnx_inference_bytes
  inputs:
    input_data: map[string, any] #required
    model_bytes: bytes #required
    optimize: boolean = true
  outputs:
    inference_time_ms: float
    outputs: map[string, any]

- name: onnx_model_info
  inputs:
    model_path: string #required
  outputs:
    input_names: list[string]
    input_shapes: list[ai_tensor_shape]
    output_names: list[string]
    output_shapes: list[ai_tensor_shape]

- name: onnx_unload_model
  inputs:
    model_id: string #required
  outputs:
    success: boolean

- name: onnx_classify_image
  inputs:
    image: bytes #required
    labels: list[string]
    model_id: string #required
    top_k: int = 5
  outputs:
    inference_time_ms: float
    predictions: list[ai_classification_prediction]

- name: onnx_detect_objects
  inputs:
    confidence_threshold: float = 0.5
    image: bytes #required
    labels: list[string]
    model_id: string #required
    nms_threshold: float = 0.4
  outputs:
    detections: list[ai_object_detection]
    inference_time_ms: float

- name: onnx_text_embedding
  inputs:
    model_id: string #required
    text: string #required
  outputs:
    dimensions: int
    embedding: list[float]
    inference_time_ms: float

- name: ai_model
  class:
    model_id: string
    name: string
    provider: string
    max_tokens: int
    temperature: float
    capabilities: list[string]

- name: ai_chat_message
  class:
    role: string
    content: string

- name: ai_entity
  class:
    text: string
    type: string
    start: int
    end: int
    confidence: float

- name: ai_tensor_shape
  class:
    name: string
    dtype: string
    shape: list[integer]

- name: ai_classification_prediction
  class:
    label: string
    confidence: float
    index: int

- name: ai_object_detection
  class:
    label: string
    confidence: float
    x: float
    y: float
    width: float
    height: float
