- action: build
  inputs:
    build_args: map[string, string]
    context: string #required
    dockerfile: string = "dockerfile"
    no_cache: boolean = false
    platform: string
    pull: boolean = false
    tags: list[string] #required
    target: string
  outputs:
    image_id: string
    size: int
    success: boolean

- action: push
  inputs:
    all_tags: boolean = false
    image: string #required
    tag: string
  outputs:
    digest: string
    success: boolean

- action: pull
  inputs:
    all_tags: boolean = false
    image: string #required
    platform: string
    tag: string = "latest"
  outputs:
    digest: string
    image_id: string
    success: boolean

- action: list_images
  inputs:
    all: boolean = false
    filters: docker_image_filters
  outputs:
    images: list[docker_image]
    total: int

- action: remove_image
  inputs:
    force: boolean = false
    image: string #required
    no_prune: boolean = false
  outputs:
    success: boolean

- action: tag
  inputs:
    source: string #required
    target: string #required
  outputs:
    success: boolean

- action: run
  inputs:
    command: list[string]
    detach: boolean = false
    entrypoint: string
    env: map[string, string]
    image: string #required
    labels: map[string, string]
    name: string
    network: string
    ports: list[docker_port_mapping]
    remove: boolean = false
    restart: no | always | on-failure | unless-stopped = no
    volumes: list[docker_volume_mount]
    working_dir: string
  outputs:
    container_id: string
    exit_code: int
    logs: string
    success: boolean

- action: start
  inputs:
    container: string #required
  outputs:
    success: boolean

- action: stop
  inputs:
    container: string #required
    timeout: int = 10
  outputs:
    success: boolean

- action: restart
  inputs:
    container: string #required
    timeout: int = 10
  outputs:
    success: boolean

- action: remove_container
  inputs:
    container: string #required
    force: boolean = false
    volumes: boolean = false
  outputs:
    success: boolean

- action: list_containers
  inputs:
    all: boolean = false
    filters: docker_container_filters
    limit: int
  outputs:
    containers: list[docker_container]
    total: int

- action: logs
  inputs:
    container: string #required
    follow: boolean = false
    since: string
    tail: int
    timestamps: boolean = false
    until: string
  outputs:
    logs: string

- action: exec
  inputs:
    command: list[string] #required
    container: string #required
    detach: boolean = false
    env: map[string, string]
    privileged: boolean = false
    tty: boolean = false
    user: string
    working_dir: string
  outputs:
    exit_code: int
    output: string
    success: boolean

- action: inspect_container
  inputs:
    container: string #required
  outputs:
    config: docker_container_config
    created: date
    id: string
    image: string
    name: string
    network_settings: docker_network_settings
    state: docker_container_state

- action: create_network
  inputs:
    driver: bridge | host | overlay | macvlan | none = bridge
    labels: map[string, string]
    name: string #required
    options: map[string, string]
  outputs:
    network_id: string
    success: boolean

- action: remove_network
  inputs:
    network: string #required
  outputs:
    success: boolean

- action: list_networks
  inputs:
    filters: docker_network_filters
  outputs:
    networks: list[docker_network]
    total: int

- action: create_volume
  inputs:
    driver: string = "local"
    labels: map[string, string]
    name: string #required
    options: map[string, string]
  outputs:
    success: boolean
    volume_name: string

- action: remove_volume
  inputs:
    force: boolean = false
    volume: string #required
  outputs:
    success: boolean

- action: list_volumes
  inputs:
    filters: docker_volume_filters
  outputs:
    total: int
    volumes: list[docker_volume]

- action: login
  inputs:
    password: string #required
    registry: string
    username: string #required
  outputs:
    success: boolean

- action: logout
  inputs:
    registry: string
  outputs:
    success: boolean

- object: docker_image
  class:
    id: string
    tags: list[string]
    created: date
    size: int
    labels: map[string, string]

- object: docker_container
  class:
    id: string
    name: string
    image: string
    status: string
    state: string
    created: date
    ports: list[docker_port_mapping]

- object: docker_container_state
  class:
    status: string
    running: boolean
    paused: boolean
    restarting: boolean
    exit_code: int
    started_at: date
    finished_at: date

- object: docker_container_config
  class:
    hostname: string
    user: string
    env: list[string]
    cmd: list[string]
    working_dir: string
    entrypoint: list[string]
    labels: map[string, string]

- object: docker_network_settings
  class:
    networks: map[string, docker_network_endpoint]
    ip_address: string
    gateway: string

- object: docker_network_endpoint
  class:
    network_id: string
    ip_address: string
    gateway: string

- object: docker_port_mapping
  class:
    container_port: int
    host_port: int
    protocol: string

- object: docker_volume_mount
  class:
    source: string
    target: string
    read_only: boolean

- object: docker_network
  class:
    id: string
    name: string
    driver: string
    scope: string
    created: date

- object: docker_volume
  class:
    name: string
    driver: string
    mountpoint: string
    created: date
    labels: map[string, string]

- object: docker_image_filters
  class:
    dangling: boolean
    label: list[string]
    reference: list[string]

- object: docker_container_filters
  class:
    id: list[string]
    name: list[string]
    status: list[string]
    label: list[string]

- object: docker_network_filters
  class:
    driver: list[string]
    id: list[string]
    name: list[string]

- object: docker_volume_filters
  class:
    dangling: boolean
    driver: list[string]
    name: list[string]
