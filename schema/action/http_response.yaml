- name: Render Template
  action: render_template
  inputs:
    content_type: string = text/html
    data: object
    template: string
    template_engine: handlebars | jinja2 | tera | liquid = handlebars
  outputs:
    rendered: string
    success: boolean

- name: Render Template From File
  action: render_template_file
  inputs:
    content_type: string = text/html
    data: object
    template_engine: handlebars | jinja2 | tera | liquid = handlebars
    template_path: string
  outputs:
    rendered: string
    success: boolean

- name: Return JSON Response
  action: json
  inputs:
    data: any
    pretty: boolean = false
    status_code: integer = 200
  outputs:
    success: boolean

- name: Return Plain Text Response
  action: text
  inputs:
    content_type: string = text/plain
    status_code: integer = 200
    text: string
  outputs:
    success: boolean

- name: Return HTML Response
  action: html
  inputs:
    html: string
    status_code: integer = 200
  outputs:
    success: boolean

- name: Return XML Response
  action: xml
  inputs:
    status_code: integer = 200
    xml: string
  outputs:
    success: boolean

- name: Return Binary Response
  action: binary
  inputs:
    content_type: string
    data: bytes
    filename: string
    status_code: integer = 200
  outputs:
    success: boolean

- name: Stream SSE Event
  action: sse_event
  inputs:
    data: any
    event: string
    id: string
    retry: integer
  outputs:
    success: boolean

- name: Stream SSE Events
  action: sse_stream
  inputs:
    events: List[object]
    keep_alive_interval: integer = 30
  outputs:
    success: boolean

- name: Return 404 Not Found
  action: not_found
  inputs:
    custom_data: object
    include_body: boolean = true
    message: string = Not Found
  outputs:
    success: boolean

- name: Return 400 Bad Request
  action: bad_request
  inputs:
    custom_data: object
    errors: List[String]
    message: string = Bad Request
  outputs:
    success: boolean

- name: Return 401 Unauthorized
  action: unauthorized
  inputs:
    custom_data: object
    message: string = Unauthorized
    www_authenticate: string
  outputs:
    success: boolean

- name: Return 403 Forbidden
  action: forbidden
  inputs:
    custom_data: object
    message: string = Forbidden
  outputs:
    success: boolean

- name: Return 500 Internal Server Error
  action: internal_server_error
  inputs:
    custom_data: object
    error: string
    include_details: boolean = false
    message: string = Internal Server Error
  outputs:
    success: boolean

- name: Return 502 Bad Gateway
  action: bad_gateway
  inputs:
    custom_data: object
    message: string = Bad Gateway
  outputs:
    success: boolean

- name: Return 503 Service Unavailable
  action: service_unavailable
  inputs:
    custom_data: object
    message: string = Service Unavailable
    retry_after: integer
  outputs:
    success: boolean

- name: Return Custom Error Response
  action: error
  inputs:
    details: any
    error_code: string
    message: string
    status_code: integer
  outputs:
    success: boolean

- name: Set Response Cookie
  action: set_cookie
  inputs:
    domain: string
    expires: datetime
    http_only: boolean = true
    max_age: integer
    name: string
    path: string = /
    same_site: strict | lax | none
    secure: boolean = false
    value: string
  outputs:
    success: boolean

- name: Delete Response Cookie
  action: delete_cookie
  inputs:
    domain: string
    name: string
    path: string = /
  outputs:
    success: boolean

- name: Return File Download
  action: file_download
  inputs:
    content_type: string
    file_path: string
    filename: string
    inline: boolean = false
  outputs:
    success: boolean

- name: Return Streaming Response
  action: streaming
  inputs:
    chunk_size: integer = 8192
    content_type: string = application/octet-stream
    stream_source: string
  outputs:
    success: boolean

- name: Return Empty Response
  action: empty
  inputs:
    status_code: integer = 204
  outputs:
    success: boolean

- name: Return Redirect Response
  action: redirect
  inputs:
    preserve_method: boolean = false
    status_code: integer = 302
    url: string
  outputs:
    success: boolean

- name: Return CORS Preflight Response
  action: cors_preflight
  inputs:
    allowed_headers: List[String] = ["*"]
    allowed_methods: List[String] = ["GET", "POST", "PUT", "DELETE", "OPTIONS"]
    allowed_origins: List[String] = ["*"]
    max_age: integer = 86400
  outputs:
    success: boolean

- name: Return GraphQL Response
  action: graphql
  inputs:
    data: any
    errors: List[object]
    extensions: object
  outputs:
    success: boolean

- name: Return Paginated Response
  action: paginated
  inputs:
    data: List[any]
    include_metadata: boolean = true
    page: integer = 1
    page_size: integer = 20
    total: integer
  outputs:
    success: boolean

- name: Return CSV Response
  action: csv
  inputs:
    data: List[object]
    delimiter: string = ,
    filename: string = data.csv
    include_headers: boolean = true
  outputs:
    success: boolean

- name: HttpResponse
  class:
    status_code: integer
    headers: object
    body: any
    content_type: string

- name: template
  schema:
    - body_template: string?
    - content_type: string = application/json #max(100)
    - created_at: date = now()
    - description: string? #max(500)
    - headers: string? # json map
    - is_active: boolean = true
    - status_code: int = 200 #min(100) #max(599)
    - template_engine: handlebars | jinja2 | tera | liquid = handlebars
    - updated_at: date = now()

- name: log
  id: [request_path, created_at]
  schema:
    - content_type: string? #max(100)
    - created_at: date = now()
    - duration_ms: int? #min(0)
    - request_method: get | post | put | patch | delete | head | options = get
    - request_path: string #max(2000)
    - response_size: int? #min(0)
    - status_code: int #min(100) #max(599)
    - template_id: id? -> http_response_template.id
