- action: create_function
  inputs:
    architectures: list[x86_64 | arm64]
    code: function_code
    code_signing_config_arn: string
    dead_letter_config: dead_letter_config
    description: string
    environment: environment
    ephemeral_storage: ephemeral_storage
    file_system_configs: list[file_system_config]
    function_name: string
    handler: string
    image_config: image_config
    kms_key_arn: string
    layers: list[string]
    logging_config: logging_config
    memory_size: int = 128
    package_type: zip | image = zip
    publish: boolean = false
    region: string
    role: string
    runtime: string
    snap_start: snap_start
    tags: lambda_tags
    timeout: int = 3
    tracing_config: tracing_config
    vpc_config: vpc_config
  outputs:
    architectures: list[string]
    code_sha256: string
    code_size: int
    dead_letter_config: dead_letter_config
    description: string
    environment: environment
    ephemeral_storage: ephemeral_storage
    file_system_configs: list[file_system_config]
    function_arn: string
    function_name: string
    handler: string
    image_config_response: image_config_response
    kms_key_arn: string
    last_modified: string
    last_update_status: string
    layers: list[layer]
    logging_config: logging_config
    master_arn: string
    memory_size: int
    package_type: string
    revision_id: string
    role: string
    runtime: string
    signing_job_arn: string
    signing_profile_version_arn: string
    snap_start: snap_start_response
    state: string
    state_reason: string
    state_reason_code: string
    success: boolean
    timeout: int
    tracing_config: tracing_config_response
    version: string
    vpc_config: vpc_config_response

- action: delete_function
  inputs:
    function_name: string
    qualifier: string
    region: string
  outputs:
    success: boolean

- action: get_function
  inputs:
    function_name: string
    qualifier: string
    region: string
  outputs:
    code: function_code_location
    concurrency: concurrency
    configuration: function_configuration
    tags: lambda_tags

- action: list_functions
  inputs:
    function_version: all
    marker: string
    master_region: string
    max_items: int = 50
    region: string
  outputs:
    functions: list[function_configuration]
    next_marker: string

- action: update_function_code
  inputs:
    architectures: list[x86_64 | arm64]
    dry_run: boolean = false
    function_name: string
    image_uri: string
    publish: boolean = false
    region: string
    revision_id: string
    s3_bucket: string
    s3_key: string
    s3_object_version: string
    zip_file: bytes
  outputs:
    architectures: list[string]
    code_sha256: string
    code_size: int
    function_arn: string
    function_name: string
    handler: string
    last_modified: string
    last_update_status: string
    last_update_status_reason: string
    last_update_status_reason_code: string
    revision_id: string
    runtime: string
    state: string
    state_reason: string
    state_reason_code: string
    success: boolean
    version: string

- action: update_function_configuration
  inputs:
    dead_letter_config: dead_letter_config
    description: string
    environment: environment
    ephemeral_storage: ephemeral_storage
    file_system_configs: list[file_system_config]
    function_name: string
    handler: string
    image_config: image_config
    kms_key_arn: string
    layers: list[string]
    logging_config: logging_config
    memory_size: int
    region: string
    revision_id: string
    role: string
    runtime: string
    snap_start: snap_start
    timeout: int
    tracing_config: tracing_config
    vpc_config: vpc_config
  outputs:
    architectures: list[string]
    code_sha256: string
    code_size: int
    dead_letter_config: dead_letter_config
    description: string
    environment: environment
    ephemeral_storage: ephemeral_storage
    file_system_configs: list[file_system_config]
    function_arn: string
    function_name: string
    handler: string
    image_config_response: image_config_response
    kms_key_arn: string
    last_modified: string
    last_update_status: string
    layers: list[layer]
    logging_config: logging_config
    memory_size: int
    package_type: string
    revision_id: string
    role: string
    runtime: string
    snap_start: snap_start_response
    state: string
    state_reason: string
    state_reason_code: string
    success: boolean
    timeout: int
    tracing_config: tracing_config_response
    version: string
    vpc_config: vpc_config_response

- action: invoke
  inputs:
    client_context: string
    function_name: string
    invocation_type: request_response | event | dry_run = request_response
    log_type: none | tail = none
    payload: bytes
    qualifier: string
    region: string
  outputs:
    executed_version: string
    function_error: string
    log_result: string
    payload: bytes
    status_code: int
    success: boolean

- action: invoke_async
  inputs:
    function_name: string
    invoke_args: bytes
    region: string
  outputs:
    status: int
    success: boolean

- action: publish_version
  inputs:
    code_sha256: string
    description: string
    function_name: string
    region: string
    revision_id: string
  outputs:
    architectures: list[string]
    code_sha256: string
    code_size: int
    description: string
    function_arn: string
    function_name: string
    handler: string
    last_modified: string
    memory_size: int
    package_type: string
    revision_id: string
    role: string
    runtime: string
    state: string
    state_reason: string
    state_reason_code: string
    success: boolean
    timeout: int
    version: string

- action: list_versions_by_function
  inputs:
    function_name: string
    marker: string
    max_items: int = 50
    region: string
  outputs:
    next_marker: string
    versions: list[function_configuration]

- action: create_alias
  inputs:
    description: string
    function_name: string
    function_version: string
    name: string
    region: string
    routing_config: alias_routing_configuration
  outputs:
    alias_arn: string
    description: string
    function_version: string
    name: string
    revision_id: string
    routing_config: alias_routing_configuration
    success: boolean

- action: delete_alias
  inputs:
    function_name: string
    name: string
    region: string
  outputs:
    success: boolean

- action: get_alias
  inputs:
    function_name: string
    name: string
    region: string
  outputs:
    alias_arn: string
    description: string
    function_version: string
    name: string
    revision_id: string
    routing_config: alias_routing_configuration

- action: list_aliases
  inputs:
    function_name: string
    function_version: string
    marker: string
    max_items: int = 50
    region: string
  outputs:
    aliases: list[alias_configuration]
    next_marker: string

- action: update_alias
  inputs:
    description: string
    function_name: string
    function_version: string
    name: string
    region: string
    revision_id: string
    routing_config: alias_routing_configuration
  outputs:
    alias_arn: string
    description: string
    function_version: string
    name: string
    revision_id: string
    routing_config: alias_routing_configuration
    success: boolean

- action: create_event_source_mapping
  inputs:
    amazon_managed_kafka_event_source_config: amazon_managed_kafka_event_source_config
    batch_size: int
    bisect_batch_on_function_error: boolean
    destination_config: destination_config
    document_db_event_source_config: document_db_event_source_config
    enabled: boolean = true
    event_source_arn: string
    filter_criteria: filter_criteria
    function_name: string
    function_response_types: list[report_batch_item_failures]
    maximum_batching_window_in_seconds: int
    maximum_record_age_in_seconds: int
    maximum_retry_attempts: int
    parallelization_factor: int
    queues: list[string]
    region: string
    scaling_config: scaling_config
    self_managed_event_source: self_managed_event_source
    self_managed_kafka_event_source_config: self_managed_kafka_event_source_config
    source_access_configurations: list[source_access_configuration]
    starting_position: TRIM_HORIZON | latest | AT_TIMESTAMP
    starting_position_timestamp: date
    topics: list[string]
    tumbling_window_in_seconds: int
  outputs:
    amazon_managed_kafka_event_source_config: amazon_managed_kafka_event_source_config
    batch_size: int
    bisect_batch_on_function_error: boolean
    destination_config: destination_config
    document_db_event_source_config: document_db_event_source_config
    event_source_arn: string
    filter_criteria: filter_criteria
    function_arn: string
    function_response_types: list[string]
    last_modified: date
    last_processing_result: string
    maximum_batching_window_in_seconds: int
    maximum_record_age_in_seconds: int
    maximum_retry_attempts: int
    parallelization_factor: int
    queues: list[string]
    scaling_config: scaling_config
    self_managed_event_source: self_managed_event_source
    self_managed_kafka_event_source_config: self_managed_kafka_event_source_config
    source_access_configurations: list[source_access_configuration]
    starting_position: string
    starting_position_timestamp: date
    state: string
    state_transition_reason: string
    success: boolean
    topics: list[string]
    tumbling_window_in_seconds: int
    uuid: string

- action: delete_event_source_mapping
  inputs:
    region: string
    uuid: string
  outputs:
    event_source_arn: string
    function_arn: string
    state: string
    success: boolean
    uuid: string

- action: get_event_source_mapping
  inputs:
    region: string
    uuid: string
  outputs:
    amazon_managed_kafka_event_source_config: amazon_managed_kafka_event_source_config
    batch_size: int
    bisect_batch_on_function_error: boolean
    destination_config: destination_config
    event_source_arn: string
    filter_criteria: filter_criteria
    function_arn: string
    last_modified: date
    last_processing_result: string
    maximum_batching_window_in_seconds: int
    maximum_record_age_in_seconds: int
    maximum_retry_attempts: int
    parallelization_factor: int
    queues: list[string]
    scaling_config: scaling_config
    self_managed_event_source: self_managed_event_source
    source_access_configurations: list[source_access_configuration]
    starting_position: string
    state: string
    state_transition_reason: string
    topics: list[string]
    tumbling_window_in_seconds: int
    uuid: string

- action: list_event_source_mappings
  inputs:
    event_source_arn: string
    function_name: string
    marker: string
    max_items: int = 100
    region: string
  outputs:
    event_source_mappings: list[event_source_mapping_configuration]
    next_marker: string

- action: update_event_source_mapping
  inputs:
    batch_size: int
    bisect_batch_on_function_error: boolean
    destination_config: destination_config
    document_db_event_source_config: document_db_event_source_config
    enabled: boolean
    filter_criteria: filter_criteria
    function_name: string
    function_response_types: list[report_batch_item_failures]
    maximum_batching_window_in_seconds: int
    maximum_record_age_in_seconds: int
    maximum_retry_attempts: int
    parallelization_factor: int
    region: string
    scaling_config: scaling_config
    source_access_configurations: list[source_access_configuration]
    tumbling_window_in_seconds: int
    uuid: string
  outputs:
    batch_size: int
    bisect_batch_on_function_error: boolean
    destination_config: destination_config
    event_source_arn: string
    filter_criteria: filter_criteria
    function_arn: string
    last_modified: date
    maximum_batching_window_in_seconds: int
    maximum_record_age_in_seconds: int
    maximum_retry_attempts: int
    parallelization_factor: int
    scaling_config: scaling_config
    source_access_configurations: list[source_access_configuration]
    state: string
    state_transition_reason: string
    success: boolean
    tumbling_window_in_seconds: int
    uuid: string

- action: add_permission
  inputs:
    method: string
    event_source_token: string
    function_name: string
    function_url_auth_type: none | AWS_IAM
    principal: string
    principal_org_id: string
    qualifier: string
    region: string
    revision_id: string
    source_account: string
    source_arn: string
    statement_id: string
  outputs:
    statement: string
    success: boolean

- action: remove_permission
  inputs:
    function_name: string
    qualifier: string
    region: string
    revision_id: string
    statement_id: string
  outputs:
    success: boolean

- action: get_policy
  inputs:
    function_name: string
    qualifier: string
    region: string
  outputs:
    policy: string
    revision_id: string

- action: create_function_url_config
  inputs:
    auth_type: none | AWS_IAM
    cors: cors
    function_name: string
    invoke_mode: buffered | RESPONSE_STREAM = buffered
    qualifier: string
    region: string
  outputs:
    auth_type: string
    cors: cors
    creation_time: string
    function_arn: string
    function_url: string
    invoke_mode: string
    success: boolean

- action: delete_function_url_config
  inputs:
    function_name: string
    qualifier: string
    region: string
  outputs:
    success: boolean

- action: get_function_url_config
  inputs:
    function_name: string
    qualifier: string
    region: string
  outputs:
    auth_type: string
    cors: cors
    creation_time: string
    function_arn: string
    function_url: string
    invoke_mode: string
    last_modified_time: string

- action: update_function_url_config
  inputs:
    auth_type: none | AWS_IAM
    cors: cors
    function_name: string
    invoke_mode: buffered | RESPONSE_STREAM
    qualifier: string
    region: string
  outputs:
    auth_type: string
    cors: cors
    creation_time: string
    function_arn: string
    function_url: string
    invoke_mode: string
    last_modified_time: string
    success: boolean

- action: list_function_url_configs
  inputs:
    function_name: string
    marker: string
    max_items: int = 50
    region: string
  outputs:
    function_url_configs: list[function_url_config]
    next_marker: string

- action: put_function_concurrency
  inputs:
    function_name: string
    region: string
    reserved_concurrent_executions: int
  outputs:
    reserved_concurrent_executions: int
    success: boolean

- action: delete_function_concurrency
  inputs:
    function_name: string
    region: string
  outputs:
    success: boolean

- action: get_function_concurrency
  inputs:
    function_name: string
    region: string
  outputs:
    reserved_concurrent_executions: int

- action: put_provisioned_concurrency_config
  inputs:
    function_name: string
    provisioned_concurrent_executions: int
    qualifier: string
    region: string
  outputs:
    allocated_provisioned_concurrent_executions: int
    available_provisioned_concurrent_executions: int
    last_modified: string
    requested_provisioned_concurrent_executions: int
    status: string
    status_reason: string
    success: boolean

- action: delete_provisioned_concurrency_config
  inputs:
    function_name: string
    qualifier: string
    region: string
  outputs:
    success: boolean

- action: get_provisioned_concurrency_config
  inputs:
    function_name: string
    qualifier: string
    region: string
  outputs:
    allocated_provisioned_concurrent_executions: int
    available_provisioned_concurrent_executions: int
    last_modified: string
    requested_provisioned_concurrent_executions: int
    status: string
    status_reason: string

- action: list_provisioned_concurrency_configs
  inputs:
    function_name: string
    marker: string
    max_items: int = 50
    region: string
  outputs:
    next_marker: string
    provisioned_concurrency_configs: list[provisioned_concurrency_config_list_item]

- action: publish_layer_version
  inputs:
    compatible_architectures: list[x86_64 | arm64]
    compatible_runtimes: list[string]
    content: layer_version_content_input
    description: string
    layer_name: string
    license_info: string
    region: string
  outputs:
    compatible_architectures: list[string]
    compatible_runtimes: list[string]
    content: layer_version_content_output
    created_date: string
    description: string
    layer_arn: string
    layer_version_arn: string
    license_info: string
    success: boolean
    version: int

- action: delete_layer_version
  inputs:
    layer_name: string
    region: string
    version_number: int
  outputs:
    success: boolean

- action: get_layer_version
  inputs:
    layer_name: string
    region: string
    version_number: int
  outputs:
    compatible_architectures: list[string]
    compatible_runtimes: list[string]
    content: layer_version_content_output
    created_date: string
    description: string
    layer_arn: string
    layer_version_arn: string
    license_info: string
    version: int

- action: list_layers
  inputs:
    compatible_architecture: x8664 | arm64
    compatible_runtime: string
    marker: string
    max_items: int = 50
    region: string
  outputs:
    layers: list[layers_list_item]
    next_marker: string

- action: list_layer_versions
  inputs:
    compatible_architecture: x8664 | arm64
    compatible_runtime: string
    layer_name: string
    marker: string
    max_items: int = 50
    region: string
  outputs:
    layer_versions: list[layer_versions_list_item]
    next_marker: string

- action: add_layer_version_permission
  inputs:
    method: string
    layer_name: string
    organization_id: string
    principal: string
    region: string
    revision_id: string
    statement_id: string
    version_number: int
  outputs:
    revision_id: string
    statement: string
    success: boolean

- action: remove_layer_version_permission
  inputs:
    layer_name: string
    region: string
    revision_id: string
    statement_id: string
    version_number: int
  outputs:
    success: boolean

- action: get_layer_version_policy
  inputs:
    layer_name: string
    region: string
    version_number: int
  outputs:
    policy: string
    revision_id: string

- action: tag_resource
  inputs:
    region: string
    resource: string
    tags: lambda_tags
  outputs:
    success: boolean

- action: untag_resource
  inputs:
    region: string
    resource: string
    tag_keys: list[string]
  outputs:
    success: boolean

- action: list_tags
  inputs:
    region: string
    resource: string
  outputs:
    tags: lambda_tags

- object: function
  id: [account_id, function_name]
  schema:
    - account_id: string #max(20)
    - architectures: string? # json list
    - code_sha256: string? #max(255)
    - code_size: int? #min(0)
    - created_at: date = now()
    - dead_letter_arn: string? #max(255)
    - description: string? #max(500)
    - function_arn: string? #max(255)
    - function_name: string #unique #max(140)
    - handler: string? #max(255)
    - kms_key_arn: string? #max(255)
    - last_modified: date?
    - memory_size: int = 128 #min(128) #max(10240)
    - package_type: zip | image = zip
    - region: string? #max(50)
    - role: string #max(255)
    - runtime: string? #max(50)
    - state: pending | active | inactive | failed = pending
    - tags: string? # json
    - timeout: int = 3 #min(1) #max(900)
    - updated_at: date = now()
    - version: string? #max(100)

- object: function_version
  id: [function_id, version]
  schema:
    - code_sha256: string? #max(255)
    - code_size: int? #min(0)
    - created_at: date = now()
    - description: string? #max(500)
    - function_id: id -> aws_lambda_function.id
    - handler: string? #max(255)
    - memory_size: int? #min(128)
    - runtime: string? #max(50)
    - timeout: int? #min(1)
    - version: string #max(100)

- object: alias
  id: [function_id, alias_name]
  schema:
    - alias_arn: string? #max(255)
    - alias_name: string #max(128)
    - created_at: date = now()
    - description: string? #max(500)
    - function_id: id -> aws_lambda_function.id
    - function_version: string #max(100)
    - routing_config: string? # json
    - updated_at: date = now()

- object: event_source_mapping
  id: [function_id, event_source_arn]
  schema:
    - batch_size: int? #min(1)
    - bisect_batch_on_error: boolean = false
    - created_at: date = now()
    - enabled: boolean = true
    - event_source_arn: string #max(255)
    - function_id: id -> aws_lambda_function.id
    - last_processing_result: string? #max(500)
    - maximum_batching_window: int? #min(0)
    - maximum_retry_attempts: int? #min(-1)
    - state: creating | enabling | enabled | disabling | disabled | updating | deleting = creating
    - updated_at: date = now()
    - uuid: string? #unique #max(255)

- object: layer
  id: [account_id, layer_name]
  schema:
    - account_id: string #max(20)
    - compatible_architectures: string? # json list
    - compatible_runtimes: string? # json list
    - created_at: date = now()
    - description: string? #max(500)
    - layer_arn: string? #max(255)
    - layer_name: string #max(140)
    - latest_version: int = 1 #min(1)
    - license_info: string? #max(500)
    - region: string? #max(50)

- object: invocation_log
  id: [function_id, invoked_at]
  schema:
    - billed_duration_ms: int? #min(0)
    - duration_ms: int? #min(0)
    - error: string?
    - function_id: id -> aws_lambda_function.id
    - invocation_type: request_response | event | dry_run = request_response
    - invoked_at: date = now()
    - max_memory_used_mb: int? #min(0)
    - request_id: string? #max(255)
    - status: success | error | throttled | timeout = success
