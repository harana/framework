- name: Assume STS Role
  action: assume_role
  inputs:
    duration_seconds: Int = 3600
    external_id: String
    policy: String
    policy_arns: List[StsPolicyArn]
    region: String
    role_arn: String #required
    role_session_name: String #required
    serial_number: String
    source_identity: String
    tags: Tags
    token_code: String
    transitive_tag_keys: List[String]
  outputs:
    access_key_id: String
    assumed_role_user: AssumedRoleUser
    credentials: StsCredentials
    expiration: Date
    packed_policy_size: Int
    secret_access_key: String
    session_token: String
    source_identity: String
    success: Boolean

- name: Assume STS Role With SAML
  action: assume_role_with_saml
  inputs:
    duration_seconds: Int = 3600
    policy: String
    policy_arns: List[StsPolicyArn]
    principal_arn: String #required
    region: String
    role_arn: String #required
    saml_assertion: String #required
  outputs:
    access_key_id: String
    assumed_role_user: AssumedRoleUser
    audience: String
    credentials: StsCredentials
    expiration: Date
    issuer: String
    name_qualifier: String
    packed_policy_size: Int
    secret_access_key: String
    session_token: String
    subject: String
    subject_type: String
    success: Boolean

- name: Assume STS Role With Web Identity
  action: assume_role_with_web_identity
  inputs:
    duration_seconds: Int = 3600
    policy: String
    policy_arns: List[StsPolicyArn]
    provider_id: String
    region: String
    role_arn: String #required
    role_session_name: String #required
    web_identity_token: String #required
  outputs:
    access_key_id: String
    assumed_role_user: AssumedRoleUser
    audience: String
    credentials: StsCredentials
    expiration: Date
    packed_policy_size: Int
    provider: String
    secret_access_key: String
    session_token: String
    source_identity: String
    subject_from_web_identity_token: String
    success: Boolean

- name: Decode STS Authorization Message
  action: decode_authorization_message
  inputs:
    encoded_message: String #required
    region: String
  outputs:
    decoded_message: String
    success: Boolean

- name: Get STS Caller Identity
  action: get_caller_identity
  inputs:
    region: String
  outputs:
    account: String
    arn: String
    user_id: String

- name: Get STS Session Token
  action: get_session_token
  inputs:
    duration_seconds: Int = 3600
    region: String
    serial_number: String
    token_code: String
  outputs:
    access_key_id: String
    credentials: StsCredentials
    expiration: Date
    secret_access_key: String
    session_token: String
    success: Boolean

- name: Get STS Federation Token
  action: get_federation_token
  inputs:
    duration_seconds: Int = 3600
    name: String #required
    policy: String
    policy_arns: List[StsPolicyArn]
    region: String
    tags: Tags
  outputs:
    access_key_id: String
    credentials: StsCredentials
    expiration: Date
    federated_user: FederatedUser
    packed_policy_size: Int
    secret_access_key: String
    session_token: String
    success: Boolean

- name: Get STS Access Key Info
  action: get_access_key_info
  inputs:
    access_key_id: String #required
    region: String
  outputs:
    account: String
    success: Boolean
