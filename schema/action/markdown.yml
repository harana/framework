- action: to_html
  inputs:
    data: string
    gfm: boolean = true
    highlight_code: boolean = true
    sanitize: boolean = false
  outputs:
    html: string

- action: from_html
  inputs:
    bullet_style: string = "-"
    code_block_style: fenced | indented = fenced
    data: string
    heading_style: atx | setext = atx
  outputs:
    markdown: string

- action: extract_frontmatter
  inputs:
    data: string
  outputs:
    content: string
    frontmatter: markdown_frontmatter

- object: document
  class:
    content: string
    frontmatter: markdown_frontmatter
    html: string

- object: frontmatter
  class:
    data: map[string, any]

- object: document
  schema:
    - content: string
    - created_at: date = now()
    - created_by: id? -> user.id
    - frontmatter: string? # json
    - is_published: boolean = false
    - slug: string? #unique #lowercase #max(500)
    - title: string? #max(500)
    - updated_at: date = now()

- object: frontmatter
  schema:
    - data: map[string, any]
