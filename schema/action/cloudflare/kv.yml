- action: get
  inputs:
    cache_ttl: int
    key: string
    namespace: string
    type: text | json | array_buffer | stream = text
  outputs:
    found: boolean
    metadata: any
    value: any

- action: get_with_metadata
  inputs:
    cache_ttl: int
    key: string
    namespace: string
    type: text | json | array_buffer | stream = text
  outputs:
    found: boolean
    metadata: any
    value: any

- action: put
  inputs:
    expiration: int
    expiration_ttl: int
    key: string
    metadata: any
    namespace: string
    value: any
  outputs:
    success: boolean

- action: put_with_metadata
  inputs:
    expiration: int
    expiration_ttl: int
    key: string
    metadata: any
    namespace: string
    value: any
  outputs:
    success: boolean

- action: delete
  inputs:
    key: string
    namespace: string
  outputs:
    success: boolean

- action: list
  inputs:
    cursor: string
    limit: int = 1000
    namespace: string
    prefix: string
  outputs:
    cursor: string
    keys: list[kv_key]
    list_complete: boolean

- object: namespace
  id: [account_id, namespace_name]
  schema:
    - account_id: string #max(50)
    - created_at: date = now()
    - namespace_id: string? #unique #max(255)
    - namespace_name: string #unique #max(255)
    - updated_at: date = now()

- object: entry
  id: [namespace_id, key]
  schema:
    - cache_ttl: int? #min(60)
    - created_at: date = now()
    - expiration: int?
    - expiration_ttl: int? #min(60)
    - key: string #max(512)
    - metadata: string? # json
    - namespace_id: id -> cf_kv_namespace.id
    - updated_at: date = now()
    - value: string?
    - value_type: text | json | array_buffer | stream = text

