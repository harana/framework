- action: create
  inputs:
    binding: string
    id: string
    params: any
  outputs:
    id: string
    success: boolean

- action: create_batch
  inputs:
    binding: string
    instances: list[workflow_create_options]
  outputs:
    instances: list[workflow_instance_info]
    success: boolean

- action: get
  inputs:
    binding: string
    id: string
  outputs:
    id: string
    status: workflow_instance_status

- action: status
  inputs:
    binding: string
    id: string
  outputs:
    error: workflow_error
    output: any
    status: queued | running | paused | errored | terminated | complete | waiting | waiting_for_pause | unknown

- action: pause
  inputs:
    binding: string
    id: string
  outputs:
    success: boolean

- action: resume
  inputs:
    binding: string
    id: string
  outputs:
    success: boolean

- action: restart
  inputs:
    binding: string
    id: string
  outputs:
    success: boolean

- action: terminate
  inputs:
    binding: string
    id: string
  outputs:
    success: boolean

- action: send_event
  inputs:
    binding: string
    id: string
    payload: any
    type: string
  outputs:
    success: boolean

- action: step_do
  inputs:
    callback: any
    name: string
    retries_backoff: constant | linear | exponential
    retries_delay: string
    retries_limit: int
    timeout: string
  outputs:
    result: any

- action: step_sleep
  inputs:
    duration: string
    name: string
  outputs:
    success: boolean

- action: step_sleep_until
  inputs:
    name: string
    timestamp: date
  outputs:
    success: boolean

- action: step_wait_for_event
  inputs:
    name: string
    timeout: string = "24 hours"
    type: string
  outputs:
    payload: any
    type: string

- object: workflow
  id: [account_id, workflow_name]
  schema:
    - account_id: string #max(50)
    - binding: string #max(255)
    - class_name: string? #max(255)
    - created_at: date = now()
    - script_name: string? #max(255)
    - updated_at: date = now()
    - workflow_name: string #unique #max(255)

- object: instance
  id: [workflow_id, instance_id]
  schema:
    - created_at: date = now()
    - error: string?
    - instance_id: string #unique #max(255)
    - output: string? # json
    - params: string? # json
    - status: queued | running | paused | errored | terminated | complete | waiting | waiting_for_pause | unknown = queued
    - updated_at: date = now()
    - workflow_id: id -> cf_workflow.id

- object: step
  id: [instance_id, step_name]
  schema:
    - completed_at: date?
    - created_at: date = now()
    - instance_id: id -> cf_workflow_instance.id
    - result: string? # json
    - retries_backoff: constant | linear | exponential = constant
    - retries_delay: string? #max(50)
    - retries_limit: int? #min(0)
    - started_at: date?
    - status: pending | running | completed | failed | sleeping | waiting_for_event = pending
    - step_name: string #max(255)
    - step_type: do | sleep | sleep_until | wait_for_event = do
    - timeout: string? #max(50)

- object: event
  id: [instance_id, event_type, sent_at]
  schema:
    - event_type: string #max(255)
    - instance_id: id -> cf_workflow_instance.id
    - payload: string? # json
    - sent_at: date = now()

