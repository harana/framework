- action: gzip_compress
  inputs:
    data: bytes
    level: int = 6
  outputs:
    compressed: bytes
    compressed_size: int
    compression_ratio: float
    original_size: int

- action: gzip_decompress
  inputs:
    data: bytes
  outputs:
    decompressed: bytes
    size: int

- action: zstd_compress
  inputs:
    data: bytes
    level: int = 3
  outputs:
    compressed: bytes
    compressed_size: int
    compression_ratio: float
    original_size: int

- action: zstd_decompress
  inputs:
    data: bytes
  outputs:
    decompressed: bytes
    size: int

- action: brotli_compress
  inputs:
    data: bytes
    quality: int = 4
  outputs:
    compressed: bytes
    compressed_size: int
    compression_ratio: float
    original_size: int

- action: brotli_decompress
  inputs:
    data: bytes
  outputs:
    decompressed: bytes
    size: int

- action: lz4_compress
  inputs:
    data: bytes
    high_compression: boolean = false
  outputs:
    compressed: bytes
    compressed_size: int
    compression_ratio: float
    original_size: int

- action: lz4_decompress
  inputs:
    data: bytes
  outputs:
    decompressed: bytes
    size: int

- action: deflate_compress
  inputs:
    data: bytes
    level: int = 6
  outputs:
    compressed: bytes
    compressed_size: int
    compression_ratio: float
    original_size: int

- action: deflate_decompress
  inputs:
    data: bytes
  outputs:
    decompressed: bytes
    size: int

- action: auto_compress
  inputs:
    algorithm: gzip | zstd | brotli | lz4 | deflate = gzip
    data: bytes
    optimize_for: speed | size | balanced = balanced
  outputs:
    algorithm_used: string
    compressed: bytes
    compressed_size: int
    compression_ratio: float
    original_size: int

- action: auto_decompress
  inputs:
    data: bytes
  outputs:
    algorithm_detected: string
    decompressed: bytes
    size: int

- action: stream_compress
  inputs:
    algorithm: gzip | zstd | brotli = gzip
    chunk: bytes
    final: boolean = false
    stream_id: string
  outputs:
    compressed_chunk: bytes
    total_input: int
    total_output: int

- action: stream_decompress
  inputs:
    algorithm: gzip | zstd | brotli = gzip
    chunk: bytes
    final: boolean = false
    stream_id: string
  outputs:
    decompressed_chunk: bytes
    total_input: int
    total_output: int

- object: compressed_data
  class:
    algorithm: string
    original_size: int
    compressed_size: int
    compression_ratio: float
    data: bytes

- object: compression_job
  schema:
    - algorithm: gzip | zstd | brotli | lz4 | deflate = gzip
    - completed_at: date?
    - compressed_size: int? #min(0)
    - compression_level: int = 6 #min(0) #max(22)
    - compression_ratio: decimal? #min(0)
    - created_at: date = now()
    - direction: compress | decompress = compress
    - error_message: string? #max(1000)
    - original_size: int? #min(0)
    - status: pending | running | completed | failed = pending
    - updated_at: date = now()

- object: compressed_data
  schema:
    - algorithm: string
    - original_size: int
    - compressed_size: int
    - compression_ratio: float
    - data: bytes
