- name: json_document
  schema:
    - created_at: date = now()
    - created_by: id? -> user.id
    - is_valid: boolean = true
    - schema_id: id? -> json_schema.id
    - size: int = 0 #min(0)
    - source_path: string? #max(2000)
    - updated_at: date = now()

- name: json_schema
  schema:
    - additional_properties: boolean = true
    - created_at: date = now()
    - description: string? #max(500)
    - is_active: boolean = true
    - properties: string? # json
    - required_fields: string? # json array
    - schema_type: object | array | string | number | boolean = object
    - updated_at: date = now()
    - version: int = 1 #min(1)

- name: json_validation_result
  id: [document_id, validated_at]
  schema:
    - document_id: id #required -> json_document.id
    - error_count: int = 0 #min(0)
    - errors: string? # json array
    - is_valid: boolean = false
    - schema_id: id #required -> json_schema.id
    - validated_at: date = now()
