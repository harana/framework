- object: client_connection
  schema:
    - client_type: memcache | memgraph | mongodb | rocksdb | meilisearch | tantivy | http | aws | redis | postgres | mysql = http
    - connection_retry_attempts: int = 3 #min(0)
    - connection_retry_delay_ms: int = 1000 #min(0)
    - connection_string: string? #max(1000)
    - created_at: date = now()
    - database: string? #max(100)
    - host: string #max(255)
    - is_active: boolean = true
    - max_connections: int = 10 #min(1)
    - metadata: string? # json for provider-specific config
    - min_connections: int = 1 #min(1)
    - password: string? #max(255)
    - port: int #min(1) #max(65535)
    - ssl_cert_path: string? #max(500)
    - timeout_seconds: int = 30 #min(1)
    - updated_at: date = now()
    - use_ssl: boolean = false
    - username: string? #max(255)

- object: client_pool
  schema:
    - active_connections: int = 0 #min(0)
    - connection_id: id -> client_connection.id
    - created_at: date = now()
    - idle_connections: int = 0 #min(0)
    - idle_timeout_seconds: int = 300 #min(1)
    - is_healthy: boolean = true
    - max_wait_time_ms: int = 5000 #min(0)
    - pool_size: int #min(1) #max(1000)
    - updated_at: date = now()
    - wait_queue_size: int = 0 #min(0)

- object: client_query
  id: [connection_id, executed_at, query_hash]
  schema:
    - bytes_returned: int? #min(0)
    - connection_id: id -> client_connection.id
    - duration_ms: int? #min(0)
    - error_message: string? #max(1000)
    - executed_at: date = now()
    - executed_by: id? -> user.id
    - parameters: string? # json parameters
    - query_hash: string? #max(128)
    - query_text: string? #max(10000)
    - query_type: select | insert | update | delete | execute | get | set | delete_key | search | aggregate = select
    - rows_affected: int? #min(0)
    - status: success | failed | timeout | cancelled = success

- object: client_health_check
  id: [connection_id, checked_at]
  schema:
    - checked_at: date = now()
    - connection_id: id -> client_connection.id
    - error_message: string? #max(1000)
    - is_healthy: boolean = true
    - metadata: string? # json health metrics
    - response_time_ms: int? #min(0)

- object: client_config
  id: [connection_id, key]
  schema:
    - connection_id: id -> client_connection.id
    - created_at: date = now()
    - description: string? #max(500)
    - is_encrypted: boolean = false
    - is_required: boolean = false
    - key: string #max(255)
    - updated_at: date = now()
    - value: string #required
