- name: Cloudflare Durable Object Namespace
  type: cf_durable_object_namespace
  id: [account_id, namespace_name]
  schema:
    - account_id: String #required #max(50)
    - class_name: String #required #max(255)
    - created_at: Date = now()
    - namespace_id: String? #unique #max(255)
    - namespace_name: String #required #unique #max(255)
    - script_name: String? #max(255)
    - updated_at: Date = now()

- name: Cloudflare Durable Object Instance
  type: cf_durable_object_instance
  id: [namespace_id, object_id]
  schema:
    - created_at: Date = now()
    - has_storage: Boolean = false
    - jurisdiction: String? #max(50)
    - namespace_id: Id #required -> CfDurableObjectNamespace.id
    - object_id: String #required #unique #max(255)
    - object_name: String? #max(255)
    - updated_at: Date = now()

- name: Cloudflare Durable Object Storage Entry
  type: cf_durable_object_storage_entry
  id: [instance_id, key]
  schema:
    - created_at: Date = now()
    - instance_id: Id #required -> CfDurableObjectInstance.id
    - key: String #required #max(2048)
    - updated_at: Date = now()
    - value: String? # JSON

- name: Cloudflare Durable Object Alarm
  type: cf_durable_object_alarm
  id: [instance_id]
  schema:
    - created_at: Date = now()
    - instance_id: Id #required -> CfDurableObjectInstance.id
    - scheduled_time: Date #required
    - status: Scheduled | Triggered | Cancelled = Scheduled
    - updated_at: Date = now()

- name: Cloudflare Durable Object WebSocket
  type: cf_durable_object_websocket
  id: [instance_id, websocket_id]
  schema:
    - accepted_at: Date = now()
    - auto_response_request: String? #max(500)
    - auto_response_value: String? #max(500)
    - instance_id: Id #required -> CfDurableObjectInstance.id
    - is_hibernated: Boolean = false
    - status: Open | Closed = Open
    - tags: String? # JSON list
    - websocket_id: String #required #unique #max(255)

