- name: Login Button Clicked
  id: login_button_click
  extends: web_button_click



- name: User Logged In
  parent: Event
  type: user_logged_in
  schema:
    - user_id: Id
    - email: string #email
    - ip_address: string? #ip
    - user_agent: string?
    - logged_in_at: date = now()

- name: User Logged Out
  parent: Event
  type: user_logged_out
  schema:
    - user_id: Id
    - session_duration: Int? #min(0)
    - logged_out_at: date = now()

- name: User Registered
  parent: Event
  type: user_registered
  schema:
    - user_id: Id
    - email: string #email
    - username: string
    - registration_source: Web | Mobile | Api = Web
    - registered_at: date = now()

- name: User Password Changed
  parent: Event
  type: user_password_changed
  schema:
    - user_id: Id
    - changed_via: Self | Admin | Reset = Self
    - changed_at: date = now()

- name: User Profile Updated
  parent: Event
  type: user_profile_updated
  schema:
    - user_id: Id
    - fields_changed: string[]
    - updated_at: date = now()

- name: User Joined Group
  parent: Event
  type: group_user_joined
  schema:
    - user_id: Id
    - group_id: Id
    - role: Member | Admin | Owner = Member
    - joined_at: date = now()

- name: User Left Group
  parent: Event
  type: group.user_left
  schema:
    - user_id: Id
    - group_id: Id
    - reason: Voluntary | Removed | Banned?
    - left_at: date = now()

- name: System Alert Triggered
  parent: Event
  type: system.alert #server
  schema:
    - user_id: Id
    - group_id: Id
    - reason: string
    - alert_at: date = now()